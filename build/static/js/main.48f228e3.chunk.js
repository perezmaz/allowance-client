(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{189:function(e){e.exports=JSON.parse('{"menu.category":"Categories","menu.activity":"Activities","menu.allowance":"Allowance","menu.tracing":"Tracing","menu.profile":"My Profile","menu.children":"Children","menu.logout":"Logout","menu.note":"Notes","menu.messages":"Messages","notification.title":"Notifications","notification.load":"Show more...","home.title":"Home","category.list.title":"Categories","category.list.new":"New Category","category.list.column1":"Category","category.list.column2":"Active","category.form.new.title":"New Category","category.form.edit.title":"Edit Category","category.form.info":"Required fields","category.form.control1":"Category","category.form.control2":"Active","category.message.0":"Record saved successfully","category.message.-1":"Ops, we have comunications problems, try again later","category.message.-2":"The category was already taken, please use another","category.message.-99":"Information not valid, please check your data","category.message.delete.0":"Record deleted","category.message.delete.-1":"Ops, we have comunications problems, try again later","category.message.delete.-2":"Record not found please refresh the page","activity.list.title":"Activities","activity.list.new":"New Activity","activity.list.column1":"Activity","activity.list.column2":"Category","activity.list.column3":"Child","activity.list.column4":"Percent %","activity.list.column5":"Active","activity.form.title":"New Activity","activity.form.title.edit":"Edit Activity","activity.form.info":"Required fields","activity.form.control1":"Activity","activity.form.control2":"Category","activity.form.control3":"Child","activity.form.control4":"Percent %","activity.form.control5":"Active","activity.form.control6":"Description","activity.message.0":"Record saved successfully","activity.message.-1":"Ops, we have comunications problems, try again later","activity.message.-98":"Percent left exceeded, please change the value","activity.message.-99":"Information not valid, please check your data","activity.message.delete.0":"Record deleted","activity.message.delete.-1":"Ops, we have comunications problems, try again later","activity.message.delete.-2":"Record not found please refresh the page","allowance.list.title":"Allowances","allowance.list.new":"New Allowance","allowance.list.column1":"Amount $","allowance.list.column2":"From","allowance.list.column3":"To","allowance.list.column4":"Child","allowance.form.title":"New Allowance","allowance.form.title.edit":"Edit Allowance","allowance.form.info":"Required fields","allowance.form.control1":"Amount $","allowance.form.control2":"From","allowance.form.control3":"To","allowance.form.control4":"Child","allowance.message.0":"Record saved successfully","allowance.message.-1":"Ops, we have comunications problems, try again later","allowance.message.-99":"Information not valid, please check your data","allowance.message.delete.0":"Record deleted","allowance.message.delete.-1":"Ops, we have comunications problems, try again later","allowance.message.delete.-2":"Record not found please refresh the page","tracing.list.title":"Tracing","tracing.list.new":"New Tracing","tracing.list.column1":"Child","tracing.list.column2":"Date","tracing.list.column3":"Base Amount","tracing.list.column4":"Real Amount","tracing.form.title":"New Tracing","tracing.form.edit.title":"Edit Tracing","tracing.form.info":"Required fields","tracing.form.control1":"Child","tracing.form.control2":"Date","tracing.form.control3":"Base Amount","tracing.form.control4":"Parent Comments","tracing.form.control5":"Child Feedback","tracing.subform.title":"Activities","tracing.subform.list.column1":"Activity","tracing.subform.list.column2":"Base Percent %","tracing.subform.list.column3":"Base Amount $","tracing.subform.list.column4":"Compliance %","tracing.subform.list.column5":"Amount $","tracing.message.0":"Record saved successfully","tracing.message.-1":"Ops, we have comunications problems, try again later","tracing.message.-99":"Information not valid, please check your data","tracing.message.delete.0":"Record deleted","tracing.message.delete.-1":"Ops, we have comunications problems, try again later","tracing.message.delete.-2":"Record not found please refresh the page","login.form.title":"Welcome Back !","login.form.subtitle":"Sign in to continue","login.form.control1":"Email","login.form.control2":"Password","login.form.control3":"Forgot password?","login.form.new":"Don\'t have an account?","login.form.register":"Signup now","login.message.0":"Welcome","login.message.-1":"Ops, we have comunications problems, try again later","login.message.-2":"User not found, check your credentials","login.message.-3":"The account is not active yet, try again later","login.message.-4":"User or password not valid, check your credentials","login.message.-99":"Information not valid, please check your data","register.form.title":"Register Account","register.form.subtitle":"Sign in to continue","register.form.control1":"Email","register.form.control2":"Name","register.form.control3":"Password","register.form.control4":"Confirm Password","register.form.old":"Already have an account?","register.form.login":"Login","register.message.0":"We send you an email to activate your account","register.message.-1":"Ops, we have comunications problems, try again later","register.message.-2":"The username was already taken, please use another","register.message.-3":"The email was already taken, please use another","register.message.-99":"Information not valid, please check your data","forgot.form.title":"Reset Password","forgot.form.info":"Enter your Email and instructions will be sent to you!","forgot.form.control1":"Email","forgot.form.remember":"Remember It?","forgot.form.login":"Login","forgot.message.0":"We sent you an email with your new password","forgot.message.-1":"Ops, we have comunications problems, try again later","forgot.message.-2":"User not found","profile.form.title":"My profile","profile.form.info":"Required fields","profile.form.control1":"Full Name","profile.form.control2":"Username","profile.form.control3":"Email","profile.form.control4":"Current Password","profile.form.control5":"New Password","profile.form.control6":"Confirm Password","profile.message.0":"Information saved","profile.message.-1":"Ops, we have comunications problems, try again later","profile.message.-2":"Record not found","profile.message.-3":"Current password invalid","profile.message.-4":"The username was already taken, please use another","profile.message.-5":"The email was already taken, please use another","profile.message.-6":"Invalid file, should be a jpg or a png less than 1 MB","profile.message.-99":"Information not valid, please check your data","child.list.title":"Children","child.list.new":"New Child","child.list.column1":"Name","child.list.column2":"Age","child.list.column3":"Email","child.list.column4":"User name","child.form.title":"New Child","child.form.title.edit":"Edit Child","child.form.info":"Required fields","child.form.info2":"We will send you an email with instructions to activate your child account","child.form.info3":"If you have not received the activation email, ","child.form.control1":"Name","child.form.control2":"Age","child.form.control3":"Email","child.form.control4":"User name","child.message.0":"Record saved successfully","child.message.-1":"Ops, we have comunications problems, try again later","child.message.-2":"The user name was already taken, please use another","child.message.-3":"The email was already taken, please use another","child.message.-99":"Information not valid, please check your data","child.message.delete.0":"Record deleted","child.message.delete.-1":"Ops, we have comunications problems, try again later","child.message.delete.-2":"Record not found please refresh the page","child.message.activation.0":"Activation email sent","child.message.activation.-1":"Ops, we have comunications problems, try again later","child.message.activation.-2":"Account already activated","notification.list.title":"Notifications","notification.list.column1":"Created by","notification.list.column2":"Created ago","notification.list.column3":"Message","notification.new.comment":"Commented a tracing","notification.new.tracing":"Created a new tracing","notification.new.message":"Sent you a message","dashboard.title":"Dashboard","dashboard.parent.tracing":"Tracing","dashboard.parent.toImprove":"Activities to improve","dashboard.parent.notable":"Notable Activities","dashboard.parent.compliance":"Compliance","dashboard.parent.list.column1":"Date","dashboard.parent.list.column2":"Expected $","dashboard.parent.list.column3":"Obtained $","dashboard.parent.list.column4":"Compliance %","note.list.title":"Notes","note.list.new":"New Note","note.list.column1":"Date","note.list.column2":"Child","note.list.column3":"Note","note.form.title":"New Note","note.form.edit.title":"Edit Note","note.form.info":"Required fields","note.form.control1":"Date","note.form.control2":"Child","note.form.control3":"Note","note.message.0":"Record saved successfully","note.message.-1":"Ops, we have comunications problems, try again later","note.message.-99":"Information not valid, please check your data","note.message.delete.0":"Record deleted","note.message.delete.-1":"Ops, we have comunications problems, try again later","note.message.delete.-2":"Record not found please refresh the page","message.form.title":"Messages","message.form.control1":"Type your message","activate.form.message":"We are activating your account please wait.","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.back":"Back","action.login":"Login","action.register":"Register","action.reset":"Reset","action.show":"Show","action.send":"Send","action.saveContinue":"Save and continue","footer.text":"All rights reserved 2021","validation.required":"{{field}} is required","validation.compare":"{{field}} should be equal to {{field2}}","validation.greaterEqual":"{{field}} should be greater equal than {{field2}}","validation.lessEqual":"{{field}} should be less equal than {{field2}}","validation.number":" a valid number","validation.name":" a valid text","validation.text":" a valid text","validation.email":" a valid email","validation.password":" a valid password","validation.length":" between {{min}} and {{max}} characters","validation.rule":"{{field}} should be","date.format":"YYYY-MM-DD","date.partialFormat":"YYYY-MM","date.locale":"en","date.years":"years old","date.seconds.ago":"{{seconds}} second(s) ago","date.minutes.ago":"{{minutes}} minute(s) ago","date.hours.ago":"{{hours}} hour(s) ago","date.days.ago":"{{days}} day(s) ago","no.records":"No records found","No Name":"No Name","total":"Total","welcome":"Welcome {{name}}","welcome.message":"Here, you can change your information"}')},190:function(e){e.exports=JSON.parse('{"menu.category":"Categor\xedas","menu.activity":"Actividades","menu.allowance":"Mesada","menu.tracing":"Seguimiento","menu.profile":"Mi Perfil","menu.children":"Hijos(as)","menu.logout":"Cerrar sesi\xf3n","menu.notification":"Notificaciones","menu.note":"Notas","menu.messages":"Mensajes","notification.title":"Notificaciones","notification.load":"Ver todas...","home.title":"Inicio","category.list.title":"Categor\xedas","category.list.new":"Nueva Categor\xeda","category.list.column1":"Categor\xeda","category.list.column2":"Activa","category.form.title":"Nueva Categor\xeda","category.form.title.edit":"Editar Categor\xeda","category.form.info":"Campos obligatorios","category.form.control1":"Categor\xeda","category.form.control2":"Activa","category.message.0":"Registro guardado satisfactoriamente","category.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","category.message.-2":"Categor\xeda duplicada, por favor utiliza otra","category.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","category.message.delete.0":"Registro eliminado","category.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","category.message.delete.-2":"Registro no encontrado, por favor carga de nuevo la p\xe1gina","activity.list.title":"Actividades","activity.list.new":"Nueva Actividad","activity.list.column1":"Actividad","activity.list.column2":"Categor\xeda","activity.list.column3":"Hijo(a)","activity.list.column4":"Peso %","activity.list.column5":"Activa","activity.form.title":"Nueva Actividad","activity.form.title.edit":"Editar Actividad","activity.form.info":"Campos obligatorios","activity.form.control1":"Actividad","activity.form.control2":"Categor\xeda","activity.form.control3":"Hijo(a)","activity.form.control4":"Peso %","activity.form.control5":"Activa","activity.form.control6":"Descripci\xf3n","activity.message.0":"Registro guardado satisfactoriamente","activity.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","activity.message.-98":"Porcentaje disponible excedido, por favor cambie el valor","activity.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","activity.message.delete.0":"Registro eliminado","activity.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","activity.message.delete.-2":"Registro no encontrado, por favor carga de nuevo la p\xe1gina","allowance.list.title":"Mesadas","allowance.list.new":"Nueva Mesada","allowance.list.column1":"Monto $","allowance.list.column2":"Desde","allowance.list.column3":"Hasta","allowance.list.column4":"Hijo(a)","allowance.form.title":"Nueva Mesada","allowance.form.title.edit":"Editar Mesada","allowance.form.info":"Campos obligatorios","allowance.form.control1":"Monto $","allowance.form.control2":"Desde","allowance.form.control3":"Hasta","allowance.form.control4":"Hijo(a)","allowance.message.0":"Registro guardado satisfactoriamente","allowance.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","allowance.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","allowance.message.delete.0":"Registro eliminado","allowance.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","allowance.message.delete.-2":"Registro no encontrado, por favor carga de nuevo la p\xe1gina","tracing.list.title":"Seguimientos","tracing.list.new":"Nuevo Seguimiento","tracing.list.column1":"Hijo(a)","tracing.list.column2":"Fecha","tracing.list.column3":"Mesada Base","tracing.list.column4":"Mesada Final","tracing.form.title":"Nuevo Seguimiento","tracing.form.edit.title":"Editar Seguimiento","tracing.form.info":"Campos obligatorios","tracing.form.control1":"Hijo(a)","tracing.form.control2":"Fecha","tracing.form.control3":"Mesada Base","tracing.form.control4":"Comentarios Tutor(a)","tracing.form.control5":"Comentarios Hijo(a)","tracing.subform.title":"Actividades","tracing.subform.list.column1":"Actividad","tracing.subform.list.column2":"Peso Base %","tracing.subform.list.column3":"Monto Base $","tracing.subform.list.column4":"Cumplimiento %","tracing.subform.list.column5":"Monto $","tracing.message.0":"Registro guardado satisfactoriamente","tracing.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","tracing.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","tracing.message.delete.0":"Registro eliminado","tracing.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","tracing.message.delete.-2":"Registro no encontrado, por favor carga de nuevo la p\xe1gina","login.form.title":"Bienvenido","login.form.subtitle":"Llena tus datos para continuar","login.form.control1":"Correo","login.form.control2":"Contrase\xf1a","login.form.control3":"\xbfOlvidaste tu contrase\xf1a?","login.form.new":"\xbfNo tienes una cuenta?","login.form.register":"Reg\xedstrate","login.message.0":"Bienvenido","login.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","login.message.-2":"Usuario no encontrado, revisa tus credenciales","login.message.-3":"La cuenta a\xfan no esta activa, intenta mas tarde","login.message.-4":"Usuario o contrase\xf1a inv\xe1lida, revisa tus credenciales","login.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","register.form.title":"Reg\xedstrate","register.form.subtitle":"Llena los datos para registrarte","register.form.control1":"Correo","register.form.control2":"Nombre","register.form.control3":"Contrase\xf1a","register.form.control4":"Confirma Contrase\xf1a","register.form.old":"\xbfYa tienes una cuenta?","register.form.login":"Ingresa","register.message.0":"Te hemos enviado un correo para activar tu cuenta","register.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","register.message.-2":"Nombre de usuario duplicado, por favor utiliza otro","register.message.-3":"Correo duplicado, por favor utiliza otro","register.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","forgot.form.title":"Restablece tu contrase\xf1a","forgot.form.info":"Llena tu correo y sigue las instrucciones","forgot.form.control1":"Correo","forgot.form.remember":"\xbfRecordaste tu contrase\xf1a?","forgot.form.login":"Ingresa","forgot.message.0":"Te hemos enviado un correo con tu nueva contrase\xf1a","forgot.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","forgot.message.-2":"Usuario no encontrado","profile.form.title":"Mi perfil","profile.form.info":"Campos obligatorios","profile.form.control1":"Nombre Completo","profile.form.control2":"Nombre de Usuario","profile.form.control3":"Correo","profile.form.control4":"Contrase\xf1a Actual","profile.form.control5":"Nueva Contrase\xf1a","profile.form.control6":"Confirma Contrase\xf1a","profile.message.0":"Datos actualizados","profile.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","profile.message.-2":"Registro no encontrado","profile.message.-3":"Password actual inv\xe1lido","profile.message.-4":"Nombre de usuario duplicado, por favor utiliza otro","profile.message.-5":"Correo duplicado, por favor utiliza otro","profile.message.-6":"Archivo inv\xe1lido, debe ser un jpg o png de menos de 1MB","profile.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","child.list.title":"Hijos(as)","child.list.new":"Agregar Hijo(a)","child.list.column1":"Nombre","child.list.column2":"Edad","child.list.column3":"Correo","child.list.column4":"Nombre de usuario","child.form.title":"Agregar Hijo(a)","child.form.title.edit":"Editar Hijo(a)","child.form.info":"Campos obligatorios","child.form.info2":"Te enviaremos un correo con las instrucciones para activar la cuenta de tu hijo(a)","child.form.info3":"si no has recibido el correo de activaci\xf3n a\xfan, {{link}}","child.form.control1":"Nombre","child.form.control2":"Edad","child.form.control3":"Correo","child.form.control4":"Nombre de usuario","child.message.0":"Registro guardado satisfactoriamente","child.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","child.message.-2":"Nombre de usuario duplicado, por favor utiliza otro","child.message.-3":"Correo duplicado, por favor utiliza otro","child.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","child.message.delete.0":"Registro eliminado","child.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","child.message.delete.-2":"Registro no encontrado, por favor carga de nuevo la p\xe1gina","child.message.activation.0":"Correo de activacion enviado","child.message.activation.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","child.message.activation.-2":"La cuenta ya esta activa","notification.list.title":"Notificaciones","notification.list.column1":"Creado por","notification.list.column2":"Creado hace","notification.list.column3":"Mensaje","notification.new.comment":"Ha comentado un seguimiento","notification.new.tracing":"Ha creado un nuevo seguimiento","notification.new.message":"Te ha enviado un mensaje","dashboard.title":"Reporte","dashboard.parent.tracing":"Seguimiento","dashboard.parent.toImprove":"Actividades a mejorar","dashboard.parent.notable":"Actividades destacables","dashboard.parent.compliance":"Cumplimiento","dashboard.parent.list.column1":"Fecha","dashboard.parent.list.column2":"Esperado $","dashboard.parent.list.column3":"Obtenido $","dashboard.parent.list.column4":"Cumpliento %","note.list.title":"Notas","note.list.new":"Nueva Nota","note.list.column1":"Fecha","note.list.column2":"Hijo(a)","note.list.column3":"Nota","note.form.title":"Nueva Nota","note.form.title.edit":"Editar Nota","note.form.info":"Campos obligatorios","note.form.control1":"Fecha","note.form.control2":"Hijo(a)","note.form.control3":"Nota","note.message.0":"Registro guardado satisfactoriamente","note.message.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","note.message.-99":"La informaci\xf3n no es v\xe1lida, por favor revisa","note.message.delete.0":"Registro eliminado","note.message.delete.-1":"Error de comunicaci\xf3n, intenta m\xe1s tarde","message.form.title":"Mensajes","message.form.control1":"Escribe tu mensaje","activate.form.message":"Estamos activando su cuenta, al finalizar el proceso ser\xe1 redireccionado.","action.edit":"Editar","action.delete":"Eliminar","action.save":"Guardar","action.back":"Volver","action.login":"Entrar","action.register":"Registrar","action.reset":"Restablecer","action.show":"Ver","action.send":"Enviar","action.saveContinue":"Guardar y continuar","footer.text":"Todos los derechos reservados 2021","validation.required":"{{field}} es requerido","validation.compare":"{{field}} debe ser igual a {{field2}}","validation.greaterEqual":"{{field}} debe ser mayor o igual a {{field2}}","validation.lessEqual":"{{field}} debe ser menor o igual a {{field2}}","validation.number":" un n\xfamero v\xe1lido","validation.name":" un texto v\xe1lido","validation.text":" un texto v\xe1lido","validation.email":" un correo v\xe1lido","validation.password":" una contrase\xf1a v\xe1lida","validation.length":" entre {{min}} y {{max}} caracteres","validation.rule":"{{field}} debe ser","date.format":"DD-MM-YYYY","date.partialFormat":"MM-YYYY","date.locale":"es","date.years":"a\xf1os","date.seconds.ago":"Hace {{seconds}} segundo(s)","date.minutes.ago":"Hace {{minutes}} minuto(s)","date.hours.ago":"Hace {{hours}} hora(s)","date.days.ago":"Hace {{days}} dia(s)","no.records":"No existen registros","No Name":"Sin nombre","total":"Total","welcome":"Te damos la bienvenida {{name}}","welcome.message":"Ac\xe1 puedes modificar los datos de tu cuenta"}')},203:function(e,t,a){},204:function(e,t,a){},24:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(196),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(368),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(195),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__),react_icons_bs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22),react_i18next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(369),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__),MainTable=function MainTable(props){var newItem=props.newItem,tableData=props.tableData,tablePages=props.tablePages,tableColumns=props.tableColumns,actions=props.actions,location=props.location,_useTranslation=Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__.a)(),t=_useTranslation.t,pathname=location.pathname,showIcon=function(e,t){switch(e){case"editar":case"edit":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__.g,{title:t});case"eliminar":case"delete":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__.f,{title:t});case"ver":case"show":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__.c,{title:t});default:return t}},showPages=function(){for(var e=[],t=1;t<=tablePages.pages;t+=1)e.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__.LinkContainer,{to:"".concat(pathname,"?page=").concat(t),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Item,{active:t===tablePages.activePage,children:t})},"page-".concat(t)));return e};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"panel",children:[newItem&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__.LinkContainer,{to:newItem.url,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{variant:"primary",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__.h,{className:"icon"}),newItem.link]})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{striped:!0,hover:!0,responsive:!0,className:"table mt-3",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("thead",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("tr",{children:[tableColumns.map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("th",{className:e.style,children:e.title},"table-title-".concat(e.title))})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("th",{className:"w15",children:"\xa0"})]})}),tableData.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("tbody",{children:tableData.map((function(item){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("tr",{children:[tableColumns.map((function(column){return"checkbox"===column.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("td",{className:column.style,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a.Check,{type:"checkbox",checked:eval("item.".concat(column.value)),readOnly:!0})},"table-data-column-".concat(item._id,"-").concat(column.title)):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("td",{className:column.style,children:eval("item.".concat(column.value))},"table-data-column-".concat(item._id,"-").concat(column.title))})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("td",{className:"d-flex flex-row justify-content-end",children:actions.map((function(action){return action.url?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_5__.LinkContainer,{to:action.url?"".concat(action.url,"/").concat(item._id):"#",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{variant:action.variant,className:"mr-2",title:action.text,size:"sm",children:showIcon(action.icon,action.text)})})},"table-action-column-".concat(item.id,"-").concat(action.text)):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{variant:action.variant,className:"mr-2",title:action.text,size:"sm",onClick:function onClick(e){return action.onClick(e,item._id,eval("item.".concat(action.recordName)))},children:showIcon(action.icon,action.text)})},"table-action-column-".concat(item.id,"-").concat(action.text))}))})]},"table-data-row-".concat(item._id))}))}),0===tableData.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("tbody",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("tr",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("td",{colSpan:tableColumns.length+1,className:"text-center",children:t("no.records")})})})]}),tablePages.paginate&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"d-flex flex-row",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("h6",{className:"align-self-start font-bold pt-2 d-none d-sm-block",children:["Mostrando \xa0",tablePages.totalPage,"\xa0 registros de \xa0",tablePages.totalRecords,"\xa0 registros"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a,{className:"ml-auto",size:"sm",children:showPages()})]})]})};__webpack_exports__.a=MainTable},25:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(108),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(195),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__),react_icons_bs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__),MainList=function MainList(props){var newItem=props.newItem,tableData=props.tableData,tableColumns=props.tableColumns,actions=props.actions,showIcon=function(e,t){switch(e){case"editar":case"edit":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_7__.g,{title:t});case"eliminar":case"delete":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_7__.f,{title:t});case"ver":case"show":return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_7__.c,{title:t});default:return t}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"panel",children:[newItem&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__.LinkContainer,{to:newItem.url,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a,{variant:"primary",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_7__.h,{className:"icon"}),newItem.link]})})}),tableData.map((function(item){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{className:"mt-3",border:"info",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Header,{as:"h5",className:"text-primary bg-light",children:eval("item.".concat(tableColumns[0].value))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Body,{children:tableColumns.map((function(column,index){return index>0?"checkbox"===column.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{className:"mb-3",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:"d-flex flex-row",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"mr-3 text-secondary",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("strong",{children:[column.title,":\xa0"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a.Check,{type:"checkbox",checked:eval("item.".concat(column.value)),readOnly:!0})})]})},"row-".concat(item._id,"-").concat(column.title)):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:"d-flex flex-row",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"mr-3 text-secondary",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("strong",{children:[column.title,":\xa0"]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:eval("item.".concat(column.value))})]})},"row-".concat(item._id,"-").concat(column.title)):""}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Footer,{className:"d-flex flex-row bg-white",children:actions.map((function(action){return action.url?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__.LinkContainer,{to:action.url?"".concat(action.url,"/").concat(item._id):"#",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a,{variant:action.variant,className:"mr-2",children:[showIcon(action.icon,action.text),"\xa0",action.text]})})},"table-action-column-".concat(item.id,"-").concat(action.text)):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a,{variant:action.variant,className:"mr-2",onClick:function onClick(e){return action.onClick(e,item._id,eval("item.".concat(action.recordName)))},children:[showIcon(action.icon,action.text),"\xa0",action.text]})},"table-action-column-".concat(item.id,"-").concat(action.text))}))})]},"card-".concat(item._id))}))]})};__webpack_exports__.a=MainList},259:function(e,t){},367:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(35),c=a.n(i),s=(a(203),a(204),a(205),a(43)),o=a(21),l=a(10),u=a(192),d=a(3),m=a.n(d),f=a(6),b=a(13),j=a.n(b),p=a(36),h=a(88),v=a.n(h),g="https://allowance-server.herokuapp.com",x=8e3,O="v1",_="es",y="access_token",w="refresh_token",E="tutorial",C=v.a.create({baseURL:"".concat(g,"/api/").concat(O),timeout:6e4});C.defaults.headers["Content-Type"]="application/json";var M=P(y);C.defaults.headers.Authorization=M;var k=C;function P(e){var t=localStorage.getItem(e);if(!t||"null"===t)return null;var a=Object(p.a)(t).expiredAt;return j()().unix()>a?null:t}function N(){localStorage.removeItem(y),localStorage.removeItem(w)}function D(e){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={refreshToken:t},e.next=3,k.post("/refresh-token",a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 3:(n=e.sent)&&0===n.code?(localStorage.setItem(y,n.result.accessToken),localStorage.setItem(w,n.result.refreshToken)):N();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=a(1),L=function(e){var t=e.isAuth,a=e.isPrivate,n=e.path,r=Object(u.a)(e,["isAuth","isPrivate","path"]);return t?a?Object(A.jsx)(o.d,Object(l.a)({path:n},r)):("/activate/:token"===n&&(N(),window.location="/"),Object(A.jsx)(o.c,{to:"/"})):a?Object(A.jsx)(o.c,{to:"/login"}):Object(A.jsx)(o.d,Object(l.a)({path:n},r))},R=a(22),T=a(68),B=a(47),U=a(373),W=a(194),K=a(108),z=a(369),S=a(381),q=a(16),F=function(e){var t=Object(o.l)().pathname,a=e.title,n=e.breadcrumbs;return Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("h5",{className:"text-primary m0 p0",children:a}),Object(A.jsx)(S.a,{className:"m0 p0 breadcrumb ml-auto d-none d-md-block",children:n.map((function(e){return Object(A.jsx)(q.LinkContainer,{to:e.url,children:Object(A.jsx)(S.a.Item,{active:e.url===t,children:e.link})},"breadcrumbs-".concat(e.link))}))})]})},H=a(11),X=a(24),Y=a(25),V=Object(n.createContext)(),$=function(e){var t=e.children,a=Object(n.useState)({show:!1,message:"",type:""}),r=Object(H.a)(a,2),i=r[0],c=r[1],s={notificationMessage:i,openNotificationMessage:function(e,t){c({show:!0,message:t,type:e}),setTimeout((function(){c({show:!1,message:"",type:""})}),3500)}};return Object(A.jsx)(V.Provider,{value:s,children:t})},Z=function(){return Object(n.useContext)(V)},J=Object(n.createContext)(),G=function(e){var t=e.children,a=Object(n.useState)({content:"",show:!1,actions:[]}),r=Object(H.a)(a,2),i=r[0],c=r[1],s={modal:i,handleShow:function(e,t){return c({content:e,show:!0,actions:t})},handleClose:function(){return c({content:"",show:!1,actions:[]})}};return Object(A.jsx)(J.Provider,{value:s,children:t})},Q=function(){return Object(n.useContext)(J)};function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/category",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/category",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/category/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/category/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/category/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose;Object(n.useEffect)((function(){ee().then((function(e){0===e.code&&c(e.result)}))}),[]);var b=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,se(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":ee().then((function(e){c(e.result)})),s(r,t("category.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j={newItem:{url:"/category/new",link:t("category.list.new")},tableData:i,tablePages:{paginate:!1},tableColumns:[{title:t("category.list.column1"),style:"",value:"category"},{title:t("category.list.column2"),style:"text-center w10",value:"active",type:"checkbox"}],actions:[{icon:"editar",url:"/category/edit",variant:"primary",text:t("action.edit")},{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return b(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"category"}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:j.newItem,tableHead:j.tableHead,tableData:j.tableData,tablePages:j.tablePages,tableColumns:j.tableColumns,actions:j.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:j.newItem,tableHead:j.tableHead,tableData:j.tableData,tablePages:j.tablePages,tableColumns:j.tableColumns,actions:j.actions},e))})]})},ue=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("category.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("category.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(le,Object(l.a)({},e))})})]})},de=a(195),me=a(48),fe=(a(236),a(183)),be=a.n(fe),je=a(191),pe=a.p+"static/media/user.d27b9123.png",he=Object(n.createContext)(),ve=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=P(y)){e.next=14;break}if(n=P(w)){e.next=8;break}N(),t({user:null,isLoading:!1}),e.next=12;break;case 8:return e.next=10,D(n);case 10:r=P(y),t({user:Object(p.a)(r),isLoading:!1});case 12:e.next=15;break;case 14:t({user:Object(p.a)(a),isLoading:!1});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=e.children,a=Object(n.useState)({user:null,isLoading:!0}),r=Object(H.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){ve(c)}),[]),Object(A.jsx)(he.Provider,{value:i,children:t})},xe=function(){return Object(n.useContext)(he)},Oe=function(e){var t=e.avatar,a=e.setAvatar,r=e.name,i=xe().user,c=Object(z.a)().t,s=Z().openNotificationMessage,o=Object(n.useCallback)((function(e){var t=e[0];t?a({name:r,file:t,preview:URL.createObjectURL(t)}):s("danger",c("profile.message.-6"))}),[a]),u=Object(je.a)({accept:"image/jpeg, image/png, image/jpg",noKeyboard:!0,minSize:0,maxSize:1048576,onDrop:o}),d=u.getRootProps,m=u.getInputProps,f=u.isDragActive;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",Object(l.a)(Object(l.a)({className:"upload-avatar"},d()),{},{children:[Object(A.jsx)("input",Object(l.a)({},m())),f?Object(A.jsx)("img",{src:pe,alt:"Avatar",className:"avatar"}):Object(A.jsx)("img",{src:t||pe,alt:"Avatar",className:"avatar"})]})),Object(A.jsx)("h5",{className:"text-center text-primary",children:c("welcome",{name:i.name})}),Object(A.jsx)("h6",{className:"text-center text-secondary fs13 mb-5",children:c("welcome.message")})]})},_e=a(53),ye=function(e){var t=e.information,a=e.controls,n=e.actions,r=e.inputs,i=void 0===r?[]:r,c=e.setInputs,s=void 0===c?function(){}:c,o=e.hasDivider,l=void 0===o||o,u=e.formHeader,d=void 0===u?"":u,m=e.formFooter,f=void 0===m?"":m,b=e.extendForm,j=void 0===b?"":b,p=Object(z.a)().t,h=function(e,t){var n=e.target,r=n.name,c=n.value,o=n.checked,l=c;"checkbox"===e.target.type&&(l=o);var u=a.find((function(e){return e.name===r})),d=null,m=u.validation,f=u.label;m&&(d=Object(_e.a)(m,f,c,i,p));var b=i.filter((function(e){var t=e;return t.name===r&&(t.value=l,t.isInvalid=!1,t.validationMessage="",d&&!d.isValid&&(t.isInvalid=!0,t.validationMessage=d.message)),!0}));s(b),t&&t(e)},v=function(e){var t=e.name,a=e.file,n=e.preview,r=i.filter((function(e){var r=e;return r.name===t&&(r.value=n,r.file=a),!0}));s(r)},g=function(e){return{name:e.name,disabled:!!e.disabled&&e.disabled,readOnly:!0}},x=function(e){switch(e.type){case"text":case"email":case"password":case"textarea":case"select":return Object(A.jsx)(de.a.Control,{name:e.name,type:["text","email","password"].find((function(t){return t===e.type}))?e.type:void 0,disabled:!!e.disabled&&e.disabled,readOnly:!!e.readOnly&&e.readOnly,plaintext:!!e.readOnly&&e.readOnly,isInvalid:i.find((function(t){return t.name===e.name})).isInvalid,value:i.find((function(t){return t.name===e.name})).value,as:["textarea","select"].find((function(t){return t===e.type}))?e.type:void 0,onChange:e.afterChange?function(t){return h(t,e.afterChange)}:h,rows:e.rows?e.rows:3,children:e.options&&e.options.map((function(t){return Object(A.jsx)("option",{value:t.value,children:t.text},"".concat(e.name,"-option-").concat(t.text))}))});case"datetime":return Object(A.jsx)(be.a,{dateFormat:p("date.format"),timeFormat:!1,locale:p("date.locale"),inputProps:g(e),value:""!==i.find((function(t){return t.name===e.name})).value?i.find((function(t){return t.name===e.name})).value:new Date,utc:!0,onChange:function(t){var a=i.filter((function(a){var n=a;return n.name===e.name&&(n.value=t.format(p("date.format"))),!0}));s(a),e.afterChange&&e.afterChange(t.format(p("date.format")))}});case"checkbox":case"radio":case"multi-checkbox":case"multi-radio":if(["multi-checkbox","multi-radio"].find((function(t){return t===e.type}))){var t=e.type.replace("multi-",""),a=[];return e.options.forEach((function(n){a.push(Object(A.jsx)(de.a.Check,{type:t,label:n.text,inline:!0,disabled:!!e.disabled&&e.disabled,value:"1"},"check-".concat(n.text)))})),Object(A.jsx)("div",{children:a})}return Object(A.jsx)(de.a.Check,{name:e.name,type:e.type,disabled:!!e.disabled&&e.disabled,checked:i.find((function(t){return t.name===e.name})).value,onChange:h,value:i.find((function(t){return t.name===e.name})).value});case"link":return Object(A.jsx)(q.LinkContainer,{to:e.url,className:"m0 p0",children:Object(A.jsx)(me.a,{variant:"link",children:e.label})});case"avatar":return Object(A.jsx)(Oe,{avatar:i.find((function(t){return t.name===e.name})).value,setAvatar:v,name:e.name});default:return""}},O=function(e){return Object(A.jsxs)(de.a.Group,{controlId:e.id,children:["link"!==e.type&&Object(A.jsxs)(de.a.Label,{children:[e.label,e.validation&&e.validation.search("required")>-1&&Object(A.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),x(e),Object(A.jsx)(de.a.Control.Feedback,{type:"invalid",children:i.find((function(t){return t.name===e.name}))?i.find((function(t){return t.name===e.name})).validationMessage:""})]})};return Object(A.jsx)("div",{className:"panel",children:Object(A.jsxs)(de.a,{children:[d,Object(A.jsx)(W.a,{children:a.map((function(e){return Object(A.jsx)(K.a,{xs:e.sizeXs,md:e.sizeMd,children:O(e)},"col-control-".concat(e.name))}))}),j,l&&Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{className:"divider"})}),Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex flex-row align-items-center",children:[Object(A.jsx)("div",{className:"d-none d-md-block",children:t}),Object(A.jsx)("div",{className:"ml-auto",children:n.map((function(e){return e.hide?"":e.url?Object(A.jsx)(q.LinkContainer,{to:e.url?e.url:"#",children:Object(A.jsx)(me.a,{variant:e.variant,className:"mr-2",title:e.text,children:e.text})},"form-link-".concat(e.text)):Object(A.jsx)(me.a,{variant:e.variant,className:"mr-2",title:e.text,onClick:function(t){return function(e,t){var n=[],r=!0;a.forEach((function(e){var t=i.find((function(t){return t.name===e.name}));if(t){if(t.isInvalid=!1,t.validationMessage="",e.validation){var a=Object(_e.a)(e.validation,e.label,t.value,i,p);a.isValid||(r=!1,t.isInvalid=!0,t.validationMessage=a.message)}n.push(t)}})),s(n),r&&t(e)}(t,e.onClick)},children:e.text},"form-action-".concat(e.text))}))})]})}),f]})})},we=function(e){var t=e.match,a=e.tutorial,r=void 0!==a&&a,i=e.saveCallBack,c=void 0===i?null:i,s=t.params.id,o=void 0===s?0:s,l=Object(z.a)().t,u=Z().openNotificationMessage,d=Object(n.useState)([{name:"category",value:"",isInvalid:!1,validationMessage:""},{name:"active",value:!1,isInvalid:!1,validationMessage:""}]),b=Object(H.a)(d,2),j=b[0],p=b[1];Object(n.useEffect)((function(){0!==o&&function(e){return re.apply(this,arguments)}(o).then((function(e){if(0===e.code){var t=e.result,a=t.category,n=t.active;p([{name:"category",value:a,isInvalid:!1,validationMessage:""},{name:"active",value:n,isInvalid:!1,validationMessage:""}])}else u("error",l("category.message.".concat(e.code)))}))}),[o]);var h=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.setAttribute("disabled","disabled"),a={category:j.find((function(e){return"category"===e.name})).value,active:j.find((function(e){return"active"===e.name})).value},n="",0!==o){e.next=10;break}return e.next=7,ae(a);case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,ie(o,a);case 12:n=e.sent;case 13:r="info",0!==n.code?(t.target.removeAttribute("disabled"),r="danger"):c?c():u(r,l("child.message.".concat(n.code))),u(r,l("category.message.".concat(n.code)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={information:Object(A.jsxs)("div",{children:[l("category.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"category",label:l("category.form.control1"),type:"text",sizeXs:12,sizeMd:6,validation:"name|required|length:1,30"},{name:"active",label:l("category.form.control2"),type:"checkbox",sizeXs:12,sizeMd:6}],actions:[{variant:"primary",text:l("action.save"),onClick:h},{url:"/category",variant:"default",text:l("action.back")}]};return r&&(v.actions=[{variant:"primary",text:l("action.saveContinue"),onClick:h}]),Object(A.jsx)(ye,{information:v.information,controls:v.controls,actions:v.actions,inputs:j,setInputs:p})},Ee=function(e){var t=e.location,a=e.match,n=e.history,r=a.params,i=t.pathname,c=r.id,s=void 0===c?0:c,o=Object(z.a)().t,u={title:o(0===s?"category.form.title":"category.form.title.edit"),breadcrumbs:[{url:"/",link:o("home.title")},{url:"/category",link:o("category.list.title")},{url:i,link:o(0===s?"category.form.title":"category.form.title.edit")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:u.title,breadcrumbs:u.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(we,Object(l.a)(Object(l.a)({},e),{},{saveCallback:function(){n.goBack()}}))})})]})};function Ce(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/activity",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/activity",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/activity/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/activity/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/activity/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/activity/findPercentLeft",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose,b=function(e){return e.map((function(e){return{_id:e._id,activity:e.activity,category:e.category.category,child:e.child.name,percent:e.percent,active:e.active}}))};Object(n.useEffect)((function(){Ce().then((function(e){0===e.code&&c(b(e.result))}))}),[]);var j=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,Ae(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":Ce().then((function(e){c(b(e.result))})),s(r,t("activity.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={newItem:{url:"/activity/new",link:t("activity.list.new")},tableData:i,tablePages:{paginate:!1,totalRecords:100,totalPage:10,activePage:1,pages:3},tableColumns:[{title:t("activity.list.column1"),style:"",value:"activity"},{title:t("activity.list.column2"),style:"",value:"category"},{title:t("activity.list.column3"),style:"",value:"child"},{title:t("activity.list.column4"),style:"text-center w15",value:"percent"},{title:t("activity.list.column5"),style:"text-center w10",value:"active",type:"checkbox"}],actions:[{icon:"editar",url:"/activity/edit",variant:"primary",text:t("action.edit")},{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return j(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"activity"}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:p.newItem,tableHead:p.tableHead,tableData:p.tableData,tablePages:p.tablePages,tableColumns:p.tableColumns,actions:p.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:p.newItem,tableHead:p.tableHead,tableData:p.tableData,tablePages:p.tablePages,tableColumns:p.tableColumns,actions:p.actions},e))})]})},Ue=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("activity.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("activity.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Be,Object(l.a)({},e))})})]})},We=a(15),Ke=a(374),ze=function(e){var t=e.percentLeft;return Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsxs)(Ke.a,{variant:"info",className:"fs-13 text-center",children:["Porcentaje disponible\xa0",t]})})})};function Se(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/child",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return He.apply(this,arguments)}function He(){return(He=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/child",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/child/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/child/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/child/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/child/activate/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=function(e){var t=e.match,a=e.tutorial,r=void 0!==a&&a,i=e.saveCallBack,c=void 0===i?null:i,s=e.refresh,o=void 0!==s&&s,l=t.params.id,u=void 0===l?0:l,d=Object(z.a)().t,b=Z().openNotificationMessage,j=Object(n.useState)([{name:"activity",value:"",isInvalid:!1,validationMessage:""},{name:"category",value:"",isInvalid:!1,validationMessage:""},{name:"child",value:"",isInvalid:!1,validationMessage:""},{name:"percent",value:"",isInvalid:!1,validationMessage:""},{name:"active",value:!1,isInvalid:!1,validationMessage:""},{name:"description",value:"",isInvalid:!1,validationMessage:""}]),p=Object(H.a)(j,2),h=p[0],v=p[1],g=Object(n.useState)([]),x=Object(H.a)(g,2),O=x[0],_=x[1],y=Object(n.useState)([]),w=Object(H.a)(y,2),E=w[0],C=w[1],M=Object(n.useState)(0),k=Object(H.a)(M,2),P=k[0],N=k[1],D=Object(n.useState)(""),I=Object(H.a)(D,2),L=I[0],R=I[1];Object(n.useEffect)((function(){ee({active:!0}).then((function(e){if(0===e.code){var t=e.result.map((function(e){return{value:e._id,text:e.category}}));_([{value:"",text:"Seleccione"}].concat(Object(We.a)(t)))}}))}),[o]),Object(n.useEffect)((function(){Se().then((function(e){if(0===e.code){var t=e.result.map((function(e){return{value:e._id,text:e.child.name}}));C([{value:"",text:"Seleccione"}].concat(Object(We.a)(t)))}}))}),[o]),Object(n.useEffect)((function(){0!==u?function(e){return Ne.apply(this,arguments)}(u).then((function(e){if(0===e.code){var t=e.result,a=t.activity,n=t.category,r=t.child,i=t.percent,c=t.active,s=t.description;v([{name:"activity",value:a,isInvalid:!1,validationMessage:""},{name:"category",value:n._id,isInvalid:!1,validationMessage:""},{name:"child",value:r._id,isInvalid:!1,validationMessage:""},{name:"percent",value:i,isInvalid:!1,validationMessage:""},{name:"active",value:c,isInvalid:!1,validationMessage:""},{name:"description",value:s,isInvalid:!1,validationMessage:""}]),Re({child:r._id}).then((function(e){0===e.code?N(e.result.percentLeft+i):N(100)}))}else b("error",d("activity.message.".concat(e.code)))})):N(100)}),[u]),Object(n.useEffect)((function(){""!==L&&Re({child:L}).then((function(e){0===e.code?N(e.result.percentLeft):N(100)}))}),[L]);var T=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.setAttribute("disabled","disabled"),!((a=h.find((function(e){return"percent"===e.name})).value)<=P)){e.next=20;break}if(n={activity:h.find((function(e){return"activity"===e.name})).value,category:h.find((function(e){return"category"===e.name})).value,child:h.find((function(e){return"child"===e.name})).value,percent:a,active:h.find((function(e){return"active"===e.name})).value,description:h.find((function(e){return"description"===e.name})).value},r="",0!==u){e.next=12;break}return e.next=9,ke(n);case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,De(u,n);case 14:r=e.sent;case 15:i="info",0!==r.code?(t.target.removeAttribute("disabled"),i="danger"):c?c():b(i,d("child.message.".concat(r.code))),b(i,d("activity.message.".concat(r.code))),e.next=21;break;case 20:b("danger",d("activity.message.-98"));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(A.jsx)(ze,{percentLeft:P}),U={information:Object(A.jsxs)("div",{children:[d("category.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"activity",label:d("activity.form.control1"),type:"text",sizeXs:12,sizeMd:6,validation:"name|required|length:1,30"},{name:"category",label:d("activity.form.control2"),type:"select",sizeXs:12,sizeMd:6,options:O,validation:"required"},{name:"child",label:d("activity.form.control3"),type:"select",sizeXs:12,sizeMd:6,options:E,validation:"required",afterChange:function(e){var t=e.target.value;R(t)}},{name:"percent",label:d("activity.form.control4"),type:"text",sizeXs:6,sizeMd:3,validation:"number|required|length:1,3"},{name:"active",label:d("activity.form.control5"),type:"checkbox",sizeXs:6,sizeMd:3},{name:"description",label:d("activity.form.control6"),type:"textarea",sizeXs:12,sizeMd:12,validation:"text|length:0,500"}],actions:[{variant:"primary",text:d("action.save"),onClick:T},{url:"/activity",variant:"default",text:d("action.back")}]};return r&&(U.actions=[{variant:"primary",text:d("action.saveContinue"),onClick:T}]),Object(A.jsx)(ye,{information:U.information,controls:U.controls,actions:U.actions,inputs:h,setInputs:v,extendForm:B})},et=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("activity.form.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:"/activity",link:a("activity.list.title")},{url:t,link:a("activity.form.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Qe,Object(l.a)({},e))})})]})};function tt(e){return at.apply(this,arguments)}function at(){return(at=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/allowance",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/allowance",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return(it=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/allowance/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){return st.apply(this,arguments)}function st(){return(st=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/allowance/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/allowance/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/allowance/findAmount",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose,b=function(e){return e.map((function(e){return{_id:e._id,amount:e.amount,from:j()(e.from).format(t("date.format")),to:j()(e.to).format(t("date.format")),child:e.child.name}}))};Object(n.useEffect)((function(){tt().then((function(e){0===e.code&&c(b(e.result))}))}),[]);var p=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,ot(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":tt().then((function(e){c(b(e.result))})),s(r,t("allowance.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={newItem:{url:"/allowance/new",link:t("allowance.list.new")},tableData:i,tablePages:{paginate:!1,totalRecords:100,totalPage:10,activePage:1,pages:3},tableColumns:[{title:t("allowance.list.column4"),style:"",value:"child"},{title:t("allowance.list.column1"),style:"",value:"amount"},{title:t("allowance.list.column2"),style:"",value:"from"},{title:t("allowance.list.column3"),style:"",value:"to"}],actions:[{icon:"editar",url:"/allowance/edit",variant:"primary",text:t("action.edit")},{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return p(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"amount"}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:h.newItem,tableHead:h.tableHead,tableData:h.tableData,tablePages:h.tablePages,tableColumns:h.tableColumns,actions:h.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:h.newItem,tableHead:h.tableHead,tableData:h.tableData,tablePages:h.tablePages,tableColumns:h.tableColumns,actions:h.actions},e))})]})},mt=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("allowance.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("allowance.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(dt,Object(l.a)({},e))})})]})},ft=function(e){var t=e.match,a=e.tutorial,r=void 0!==a&&a,i=e.saveCallBack,c=void 0===i?null:i,s=e.refresh,o=void 0!==s&&s,l=t.params.id,u=void 0===l?0:l,d=Object(z.a)().t,b=Z().openNotificationMessage,p=Object(n.useState)([{name:"amount",value:"",isInvalid:!1,validationMessage:""},{name:"from",value:j()().format(d("date.format")),isInvalid:!1,validationMessage:""},{name:"to",value:j()().format(d("date.format")),isInvalid:!1,validationMessage:""},{name:"child",value:"",isInvalid:!1,validationMessage:""}]),h=Object(H.a)(p,2),v=h[0],g=h[1],x=Object(n.useState)([]),O=Object(H.a)(x,2),_=O[0],y=O[1];Object(n.useEffect)((function(){Se().then((function(e){if(0===e.code){var t=e.result.map((function(e){return{value:e._id,text:e.child.name}}));y([{value:"",text:"Seleccione"}].concat(Object(We.a)(t)))}}))}),[o]),Object(n.useEffect)((function(){0!==u&&function(e){return it.apply(this,arguments)}(u).then((function(e){if(0===e.code){var t=e.result,a=t.amount,n=t.from,r=t.to,i=t.child;g([{name:"amount",value:a,isInvalid:!1,validationMessage:""},{name:"from",value:j()(n).format(d("date.format")),isInvalid:!1,validationMessage:""},{name:"to",value:j()(r).format(d("date.format")),isInvalid:!1,validationMessage:""},{name:"child",value:i._id,isInvalid:!1,validationMessage:""}])}else b("error",d("allowance.message.".concat(e.code)))}))}),[u]);var w=function(e){if("es"===d("date.locale")){var t=e.split("-");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0]," 00:00:01")}return"".concat(e," 00:00:01")},E=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.setAttribute("disabled","disabled"),a={amount:v.find((function(e){return"amount"===e.name})).value,from:w(v.find((function(e){return"from"===e.name})).value),to:w(v.find((function(e){return"to"===e.name})).value),child:v.find((function(e){return"child"===e.name})).value},n="",0!==u){e.next=10;break}return e.next=7,nt(a);case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,ct(u,a);case 12:n=e.sent;case 13:r="info",0!==n.code?(t.target.removeAttribute("disabled"),r="danger"):c?c():b(r,d("child.message.".concat(n.code))),b(r,d("allowance.message.".concat(n.code)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={information:Object(A.jsxs)("div",{children:[d("category.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"child",label:d("allowance.form.control4"),type:"select",sizeXs:6,sizeMd:6,options:_,validation:"required"},{name:"amount",label:d("allowance.form.control1"),type:"text",sizeXs:6,sizeMd:6,validation:"number|required|length:1,10"},{name:"from",label:d("allowance.form.control2"),type:"datetime",sizeXs:6,sizeMd:6},{name:"to",label:d("allowance.form.control3"),type:"datetime",sizeXs:6,sizeMd:6}],actions:[{variant:"primary",text:d("action.save"),onClick:E},{url:"/allowance",variant:"default",text:d("action.back")}]};return r&&(C.actions=[{variant:"primary",text:d("action.saveContinue"),onClick:E}]),Object(A.jsx)(ye,{information:C.information,controls:C.controls,actions:C.actions,inputs:v,setInputs:g})},bt=function(e){var t=e.location,a=e.match,n=e.history,r=a.params,i=t.pathname,c=r.id,s=void 0===c?0:c,o=Object(z.a)().t,u={title:o(0===s?"allowance.form.title":"allowance.form.title.edit"),breadcrumbs:[{url:"/",link:o("home.title")},{url:"/allowance",link:o("allowance.list.title")},{url:i,link:o(0===s?"allowance.form.title":"allowance.form.title.edit")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:u.title,breadcrumbs:u.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(ft,Object(l.a)(Object(l.a)({},e),{},{saveCallback:function(){n.goBack()}}))})})]})};function jt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/tracing",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){return vt.apply(this,arguments)}function vt(){return(vt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/tracing",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/tracing/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/tracing/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/tracing/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose,b=xe().user,p=function(e){return e.map((function(e){return{_id:e._id,child:e.child.name,amount:e.amount,date:j()(e.date).format("DD-MM-YYYY"),realAmount:e.realAmount}}))};Object(n.useEffect)((function(){jt().then((function(e){0===e.code&&c(p(e.result))}))}),[]);var h=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,_t(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":jt().then((function(e){c(p(e.result))})),s(r,t("tracing.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={newItem:{url:"/tracing/new",link:t("tracing.list.new")},tableData:i,tablePages:{paginate:!1,totalRecords:100,totalPage:10,activePage:1,pages:3},tableColumns:[{title:t("tracing.list.column1"),style:"",value:"child"},{title:t("tracing.list.column2"),style:"",value:"date"},{title:t("tracing.list.column3"),style:"text-center w15",value:"amount"},{title:t("tracing.list.column4"),style:"text-center w15",value:"realAmount"}],actions:[{icon:"editar",url:"/tracing/edit",variant:"primary",text:t("action.edit")}]};return"parent"===b.role&&(v.actions=[].concat(Object(We.a)(v.actions),[{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return h(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"date"}])),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:v.newItem,tableHead:v.tableHead,tableData:v.tableData,tablePages:v.tablePages,tableColumns:v.tableColumns,actions:v.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:v.newItem,tableHead:v.tableHead,tableData:v.tableData,tablePages:v.tablePages,tableColumns:v.tableColumns,actions:v.actions},e))})]})},Et=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("tracing.list.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:t,link:a("tracing.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(wt,Object(l.a)({},e))})})]})},Ct=a(368),Mt=a(109),kt=function(e){var t=e.activities,a=e.setActivities,n=e.total,r=e.setTotal,i=e.isDisabled,c=void 0!==i&&i,s=Object(z.a)().t,o=function(e,n){var i=e.target.value,c=Object(_e.a)("number|required|length:1,3",s("tracing.subform.list.column4"),i,[],s),o=0,l=t.filter((function(e){var t=e;return n===e._id&&(t.tracingPercent=i,t.isInvalid=!1,t.validationMessage="",t.realAmount=0,c.isValid?t.realAmount=t.amount*(i/100):(t.isInvalid=!0,t.validationMessage=c.message)),o+=t.realAmount,!0}));r(o),a(l)};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h5",{className:"mt-5 text-primary",children:s("tracing.subform.title")})})}),Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)(Ct.a,{striped:!0,hover:!0,responsive:!0,className:"table mt-3 d-none d-sm-block",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:s("tracing.subform.list.column1")}),Object(A.jsx)("th",{className:"w20 text-center",children:s("tracing.subform.list.column2")}),Object(A.jsx)("th",{className:"w20 text-center",children:s("tracing.subform.list.column3")}),Object(A.jsx)("th",{className:"w20 text-center",children:s("tracing.subform.list.column4")}),Object(A.jsx)("th",{className:"w20 text-center",children:s("tracing.subform.list.column5")})]})}),t.length>0&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("tbody",{children:t.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.activity}),Object(A.jsx)("td",{className:"text-center",children:e.percent}),Object(A.jsx)("td",{className:"text-center",children:e.amount}),Object(A.jsxs)("td",{className:"text-center",children:[Object(A.jsx)(de.a.Control,{name:"percent".concat(t),type:"text",isInvalid:e.isInvalid,value:e.tracingPercent,onChange:function(t){return o(t,e._id)},disabled:c}),Object(A.jsx)(de.a.Control.Feedback,{type:"invalid",children:e.validationMessage})]}),Object(A.jsx)("td",{className:"text-center",children:e.realAmount})]},"activity-row-".concat(e._id))}))}),Object(A.jsx)("tfoot",{children:Object(A.jsxs)("tr",{className:"bg-light",children:[Object(A.jsx)("td",{children:Object(A.jsx)("strong",{children:s("total")})}),Object(A.jsx)("td",{colSpan:"3",children:"\xa0"}),Object(A.jsx)("td",{className:"text-center text-success",children:Object(A.jsx)("strong",{children:n})})]})})]}),0===t.length&&Object(A.jsx)("tbody",{children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:"5",className:"text-center",children:s("no.records")})})})]}),t.map((function(e,t){return Object(A.jsxs)(Mt.a,{className:"mt-3 d-sm-none",border:"info",children:[Object(A.jsx)(Mt.a.Header,{as:"h5",className:"text-primary bg-light",children:e.activity}),Object(A.jsxs)(Mt.a.Body,{children:[Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex flex-row",children:[Object(A.jsx)("div",{className:"mr-3 text-secondary",children:Object(A.jsxs)("strong",{children:[s("tracing.subform.list.column2"),":"]})}),Object(A.jsx)("div",{children:e.percent})]})}),Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex flex-row",children:[Object(A.jsx)("div",{className:"mr-3 text-secondary",children:Object(A.jsxs)("strong",{children:[s("tracing.subform.list.column3"),":"]})}),Object(A.jsx)("div",{children:e.amount})]})}),Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex flex-row",children:[Object(A.jsx)("div",{className:"mr-3 text-secondary",children:Object(A.jsxs)("strong",{children:[s("tracing.subform.list.column4"),":"]})}),Object(A.jsxs)("div",{className:"w20",children:[Object(A.jsx)(de.a.Control,{name:"percent".concat(t),type:"text",isInvalid:e.isInvalid,value:e.tracingPercent,onChange:function(t){return o(t,e._id)},disabled:c,size:"sm"}),Object(A.jsx)(de.a.Control.Feedback,{type:"invalid",children:e.validationMessage})]})]})}),Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex flex-row",children:[Object(A.jsx)("div",{className:"mr-3 text-secondary",children:Object(A.jsxs)("strong",{children:[s("tracing.subform.list.column5"),":"]})}),Object(A.jsx)("div",{children:e.realAmount})]})})]})]},"activity-card-".concat(e._id))})),0===t.length&&Object(A.jsx)("h6",{children:s("no.records")})]})})]})},Pt=function(e){var t=e.notes,a=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h5",{className:"mt-5 text-primary",children:a("note.list.title")})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsxs)(Ct.a,{striped:!0,hover:!0,responsive:!0,className:"table mt-3",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{className:"w15 text-center",children:a("note.list.column1")}),Object(A.jsx)("th",{children:a("note.list.column3")})]})}),t.length>0&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("tbody",{children:t.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"text-center",children:e.date}),Object(A.jsx)("td",{children:e.note})]},"note-row-".concat(e._id))}))})}),0===t.length&&Object(A.jsx)("tbody",{children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:"2",className:"text-center",children:a("no.records")})})})]})})})]})};function Nt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/note",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return(It=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/note",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/note",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return(Rt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/note/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/note/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/note/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kt=function(e){var t=e.history,a=Object(z.a)().t,r=Z().openNotificationMessage,i=Object(n.useState)([{name:"child",value:"",isInvalid:!1,validationMessage:""},{name:"date",value:j()().format(a("date.format")),isInvalid:!1,validationMessage:""},{name:"amount",value:"",isInvalid:!1,validationMessage:""}]),c=Object(H.a)(i,2),s=c[0],o=c[1],l=Object(n.useState)(j()().format("YYYY-MM-DD")),u=Object(H.a)(l,2),d=u[0],b=u[1],p=Object(n.useState)(0),h=Object(H.a)(p,2),v=h[0],g=h[1],x=Object(n.useState)(""),O=Object(H.a)(x,2),_=O[0],y=O[1],w=Object(n.useState)([]),E=Object(H.a)(w,2),C=E[0],M=E[1],k=Object(n.useState)([]),P=Object(H.a)(k,2),N=P[0],D=P[1],I=Object(n.useState)(0),L=Object(H.a)(I,2),R=L[0],T=L[1],B=Object(n.useState)([]),U=Object(H.a)(B,2),W=U[0],K=U[1],S=function(e){if("es"===a("date.locale")){var t=e.split("-");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0]," 00:00:01")}return"".concat(d," 00:00:01")};Object(n.useEffect)((function(){Se().then((function(e){if(0===e.code){var t=e.result.map((function(e){return{value:e._id,text:e.child.name}}));M([{value:"",text:"Seleccione"}].concat(Object(We.a)(t)))}}))}),[]),Object(n.useEffect)((function(){if(""!==d&&""!==_){var e=0;(function(e){return ut.apply(this,arguments)})({date:d,child:_}).then((function(t){0===t.code&&(e=t.result.amount),o(s.map((function(t){var a=t;return"amount"===t.name&&(a.value=e),a}))),g(e)}))}}),[d,_]),Object(n.useEffect)((function(){""!==_?Ce({"child._id":_}).then((function(e){if(0===e.code){var t=e.result.map((function(e){var t=v*(e.percent/100);return{_id:e._id,activity:e.activity,percent:e.percent,amount:t,realAmount:0,tracingPercent:"",isInvalid:!1,validationMessage:""}}));D(t),T(0)}})):D([])}),[_,v]),Object(n.useEffect)((function(){""!==d&&""!==_?function(e){return It.apply(this,arguments)}({child:_,date:d}).then((function(e){0===e.code&&K(e.result.map((function(e){return{date:j()(e.date).format(a("date.format")),note:e.note}})))})):K([])}),[_]);var q=function(){var e=!0,t=N.filter((function(t){var n=t,r=Object(_e.a)("number|required|length:1,3",a("tracing.subform.list.column4"),n.tracingPercent,[],a);return n.isInvalid=!1,n.validationMessage="",r.isValid||(e=!1,n.isInvalid=!0,n.validationMessage=r.message),!0}));return D(t),e},F=function(){var e=Object(f.a)(m.a.mark((function e(n){var i,c,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.target.setAttribute("disabled","disabled"),!q()){e.next=11;break}return i=s.find((function(e){return"date"===e.name})).value,c={child:s.find((function(e){return"child"===e.name})).value,date:S(i),amount:s.find((function(e){return"amount"===e.name})).value,activities:N.map((function(e){return{_id:e._id,tracingPercent:e.tracingPercent,amount:e.amount,realAmount:e.realAmount}}))},e.next=7,ht(c);case 7:o=e.sent,l="info",0!==o.code?(n.target.removeAttribute("disabled"),l="danger"):t.goBack(),r(l,a("tracing.message.".concat(o.code)));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X={information:Object(A.jsxs)("div",{children:[a("tracing.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"child",label:a("tracing.form.control1"),type:"select",sizeXs:12,sizeMd:4,options:C,validation:"required",afterChange:function(e){var t=e.target.value;y(t)}},{name:"date",label:a("tracing.form.control2"),type:"datetime",sizeXs:12,sizeMd:4,afterChange:function(e){return b(S(e))}},{name:"amount",label:a("tracing.form.control3"),type:"text",sizeXs:12,sizeMd:4,validation:"number|required|length:1,10",afterChange:function(e){var t=e.target.value;g(t)}}],actions:[{variant:"primary",text:a("action.save"),onClick:F},{url:"/tracing",variant:"default",text:a("action.back")}]},Y=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Pt,{notes:W}),Object(A.jsx)(kt,{activities:N,setActivities:D,total:R,setTotal:T})]});return Object(A.jsx)(ye,{information:X.information,controls:X.controls,actions:X.actions,inputs:s,setInputs:o,extendForm:Y})},zt=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("tracing.form.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:"/tracing",link:a("tracing.list.title")},{url:t,link:a("tracing.form.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Kt,Object(l.a)({},e))})})]})},St=function(e){var t=e.history,a=e.match.params.id,r=void 0===a?0:a,i=Object(z.a)().t,c=Z().openNotificationMessage,s=xe().user,o=Object(n.useState)([{name:"child",value:""},{name:"date",value:""},{name:"amount",value:""},{name:"comments",value:"",isInvalid:!1,validationMessage:""},{name:"feedback",value:"",isInvalid:!1,validationMessage:""}]),l=Object(H.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)([]),p=Object(H.a)(b,2),h=p[0],v=p[1],g=Object(n.useState)(0),x=Object(H.a)(g,2),O=x[0],_=x[1];Object(n.useEffect)((function(){0!==r&&function(e){return gt.apply(this,arguments)}(r).then((function(e){var t=e.result,a=t.child,n=t.date,r=t.amount,c=t.comments,s=t.feedback,o=t.realAmount;d([{name:"child",value:a.name},{name:"date",value:j()(n).format(i("date.format"))},{name:"amount",value:r},{name:"comments",value:c,isInvalid:!1,validationMessage:""},{name:"feedback",value:s,isInvalid:!1,validationMessage:""}]);var l=e.result.activities.map((function(e){return{_id:e._id,activity:e.activity,percent:e.basePercent,amount:e.baseAmount,realAmount:e.realAmount,tracingPercent:e.tracingPercent}}));v(l),_(o)})).catch((function(){c("danger",i("tracing.message.-1")),t.goBack()}))}),[r]);var y=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={comments:u.find((function(e){return"comments"===e.name})).value,feedback:u.find((function(e){return"feedback"===e.name})).value},e.next=4,xt(r,n);case 4:s=e.sent,o="info",0!==s.code?o="danger":t.goBack(),c(o,i("tracing.message.".concat(s.code)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={information:"",controls:[{name:"child",label:i("tracing.form.control1"),type:"text",sizeXs:12,sizeMd:4,disabled:!0},{name:"date",label:i("tracing.form.control2"),type:"text",sizeXs:12,sizeMd:4,disabled:!0},{name:"amount",label:i("tracing.form.control3"),type:"text",sizeXs:12,sizeMd:4,disabled:!0},{name:"comments",label:i("tracing.form.control4"),type:"textarea",sizeXs:12,sizeMd:12,validation:"text|length:0,5000",disabled:"parent"!==s.role},{name:"feedback",label:i("tracing.form.control5"),type:"textarea",sizeXs:12,sizeMd:12,validation:"text|length:0,5000",disabled:"child"!==s.role}],actions:[{variant:"primary",text:i("action.save"),onClick:y},{url:"/tracing",variant:"default",text:i("action.back")}]},E=Object(A.jsx)(kt,{activities:h,setActivities:v,total:O,setTotal:_,isDisabled:!0});return Object(A.jsx)(ye,{information:w.information,controls:w.controls,actions:w.actions,inputs:u,setInputs:d,extendForm:E})},qt=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("tracing.form.edit.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:"/tracing",link:a("tracing.list.title")},{url:t,link:a("tracing.form.edit.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(St,Object(l.a)({},e))})})]})},Ft=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{className:"text-center text-primary",children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h4",{className:"m0 p0 mb-1",children:e("login.form.title")})})}),Object(A.jsx)(W.a,{className:"text-center text-dark",children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h6",{className:"m0 p0 mb-4",children:e("login.form.subtitle")})})})]})},Ht=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{className:"divider"})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:e("login.form.new")})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:Object(A.jsx)(q.LinkContainer,{to:"/register",children:Object(A.jsx)(me.a,{variant:"link",className:"m0 p0",children:e("login.form.register")})})})})]})};function Xt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/register",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/login",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(){return(Zt=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/user/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/user/".concat(t),a).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return ea.apply(this,arguments)}function ea(){return(ea=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/forgot",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(){return(ta=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/activate",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return na.apply(this,arguments)}function na(){return(na=Object(f.a)(m.a.mark((function e(t,a){var n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",a.avatar),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,k.put("/avatar/".concat(t),n,r).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=function(){var e=Object(z.a)().t,t=Z().openNotificationMessage,a=Object(n.useState)([{name:"email",value:"",isInvalid:!1,validationMessage:""},{name:"password",value:"",isInvalid:!1,validationMessage:""}]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=function(){var a=Object(f.a)(m.a.mark((function a(n){var r,c,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r={email:i.find((function(e){return"email"===e.name})).value,password:i.find((function(e){return"password"===e.name})).value},a.next=4,Vt(r);case 4:c=a.sent,"info",0!==c.code?t("danger",e("login.message.".concat(c.code))):(localStorage.setItem(y,c.result.accessToken),localStorage.setItem(w,c.result.refreshToken),s=localStorage.getItem(E),window.location.href="completed"===s?"/":"/tutorial");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=Object(A.jsx)(Ft,{}),l=Object(A.jsx)(Ht,{}),u={information:"",controls:[{name:"email",label:e("login.form.control1"),type:"email",sizeXs:12,sizeMd:12,validation:"email|required"},{name:"password",label:e("login.form.control2"),type:"password",sizeXs:12,sizeMd:12,validation:"password|required|length:8,20"},{name:"forgot",label:e("login.form.control3"),type:"link",sizeXs:12,sizeMd:12,url:"/forgot"}],actions:[{variant:"primary",text:e("action.login"),onClick:s}],formHeader:o,formFooter:l,hasDivider:!1};return Object(A.jsx)(ye,{information:u.information,controls:u.controls,actions:u.actions,inputs:i,setInputs:c,formHeader:u.formHeader,formFooter:u.formFooter,hasDivider:u.hasDivider})},ia=function(e){return Object(A.jsx)(W.a,{className:"m0 p0 mt-2",children:Object(A.jsx)(K.a,{xs:{span:10,offset:1},sm:{span:4,offset:4},children:Object(A.jsx)(ra,Object(l.a)({},e))})})},ca=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{className:"text-center text-primary",children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h4",{className:"m0 p0 mb-1",children:e("register.form.title")})})}),Object(A.jsx)(W.a,{className:"text-center text-dark",children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h6",{className:"m0 p0 mb-4",children:e("register.form.subtitle")})})})]})},sa=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{className:"divider"})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:e("register.form.old")})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:Object(A.jsx)(q.LinkContainer,{to:"/login",children:Object(A.jsx)(me.a,{variant:"link",className:"m0 p0",children:e("register.form.login")})})})})]})},oa=function(e){var t=e.history,a=Object(z.a)().t,r=Z().openNotificationMessage,i=Object(n.useState)([{name:"email",value:"",isInvalid:!1,validationMessage:""},{name:"name",value:"",isInvalid:!1,validationMessage:""},{name:"password",value:"",isInvalid:!1,validationMessage:""},{name:"confirmPassword",value:"",isInvalid:!1,validationMessage:""}]),c=Object(H.a)(i,2),s=c[0],o=c[1],l=function(){var e=Object(f.a)(m.a.mark((function e(n){var i,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.target.setAttribute("disabled","disabled"),i={email:s.find((function(e){return"email"===e.name})).value,name:s.find((function(e){return"name"===e.name})).value,password:s.find((function(e){return"password"===e.name})).value,confirmPassword:s.find((function(e){return"confirmPassword"===e.name})).value},e.next=5,Xt(i);case 5:c=e.sent,o="info",0!==c.code?(o="danger",n.target.removeAttribute("disabled")):(localStorage.setItem(E,"incompleted"),t.push("/login")),r(o,a("register.message.".concat(c.code)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Object(A.jsx)(ca,{}),d=Object(A.jsx)(sa,{}),b={information:"",controls:[{name:"name",label:a("register.form.control2"),type:"text",sizeXs:12,sizeMd:12,validation:"text|required|length:3,20"},{name:"email",label:a("register.form.control1"),type:"email",sizeXs:12,sizeMd:12,validation:"email|required"},{name:"password",label:a("register.form.control3"),type:"password",sizeXs:12,sizeMd:12,validation:"required|password|length:8,20"},{name:"confirmPassword",label:a("register.form.control4"),type:"password",sizeXs:12,sizeMd:12,validation:"required|password|compare:password,register.form.control3|length:8,20"}],actions:[{variant:"primary",text:a("action.register"),onClick:l}],formHeader:u,formFooter:d,hasDivider:!1};return Object(A.jsx)(ye,{information:b.information,controls:b.controls,actions:b.actions,inputs:s,setInputs:o,formHeader:b.formHeader,formFooter:b.formFooter,hasDivider:b.hasDivider})},la=function(e){return Object(A.jsx)(W.a,{className:"m0 p0 mt-2",children:Object(A.jsx)(K.a,{xs:{span:10,offset:1},sm:{span:4,offset:4},children:Object(A.jsx)(oa,Object(l.a)({},e))})})},ua=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{className:"text-center text-primary",children:Object(A.jsx)(K.a,{children:Object(A.jsx)("h4",{className:"m0 p0 mb-4",children:e("forgot.form.title")})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Ke.a,{variant:"info",className:"fs-13 text-center",children:e("forgot.form.info")})})})]})},da=function(){var e=Object(z.a)().t;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{className:"divider"})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:e("forgot.form.remember")})}),Object(A.jsx)(W.a,{className:"text-center",children:Object(A.jsx)(K.a,{children:Object(A.jsx)(q.LinkContainer,{to:"/login",children:Object(A.jsx)(me.a,{variant:"link",className:"m0 p0",children:e("forgot.form.login")})})})})]})},ma=function(){var e=Object(z.a)().t,t=Z().openNotificationMessage,a=Object(n.useState)([{name:"email",value:"",isInvalid:!1,validationMessage:""}]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=function(){var a=Object(f.a)(m.a.mark((function a(n){var r,c,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),n.target.setAttribute("disabled","disabled"),r={email:i.find((function(e){return"email"===e.name})).value},a.next=5,Qt(r);case 5:c=a.sent,s="info",0!==c.code?(n.target.removeAttribute("disabled"),t(s="danger",e("forgot.message.".concat(c.code)))):(t(s,e("forgot.message.0")),setTimeout((function(){window.location="/"}),3e3));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=Object(A.jsx)(ua,{}),l=Object(A.jsx)(da,{}),u={information:"",controls:[{name:"email",label:e("register.form.control1"),type:"email",sizeXs:12,sizeMd:12,value:"",validation:"email|required",isInvalid:!1,validationMessage:""}],actions:[{variant:"primary",text:e("action.reset"),onClick:s}],formHeader:o,formFooter:l,hasDivider:!1};return Object(A.jsx)(ye,{information:u.information,controls:u.controls,actions:u.actions,inputs:i,setInputs:c,formHeader:u.formHeader,formFooter:u.formFooter,hasDivider:u.hasDivider})},fa=function(e){return Object(A.jsx)(W.a,{className:"m0 p0 mt-2",children:Object(A.jsx)(K.a,{xs:{span:10,offset:1},sm:{span:4,offset:4},children:Object(A.jsx)(ma,Object(l.a)({},e))})})},ba=function(){var e=Object(z.a)().t,t=Z().openNotificationMessage,a=Object(n.useState)([{name:"avatar",value:"",file:null},{name:"name",value:"",isInvalid:!1,validationMessage:""},{name:"email",value:"",isInvalid:!1,validationMessage:""},{name:"currentPassword",value:"",isInvalid:!1,validationMessage:""},{name:"newPassword",value:"",isInvalid:!1,validationMessage:""},{name:"confirmPassword",value:"",isInvalid:!1,validationMessage:""}]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=P(y),o=null,l=0;s&&(o=Object(p.a)(s),l=o._id),Object(n.useEffect)((function(){(function(e){return Zt.apply(this,arguments)})(l).then(function(){var a=Object(f.a)(m.a.mark((function a(n){var r,i,s,o,l,u,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:0===n.code?(r=n.result,i=r.email,s=r.role,o=r.parent,l=r.child,u=r.avatar,d="",d="parent"===s?o?o.name:"":l?l.name:"",c([{name:"avatar",value:u?"".concat(g,":").concat(x,"/avatar/").concat(u):"",file:null},{name:"name",value:d,isInvalid:!1,validationMessage:""},{name:"email",value:i,isInvalid:!1,validationMessage:""},{name:"currentPassword",value:"",isInvalid:!1,validationMessage:""},{name:"newPassword",value:"",isInvalid:!1,validationMessage:""},{name:"confirmPassword",value:"",isInvalid:!1,validationMessage:""}])):t("error",e("profile.message.".concat(n.code)));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}),[l]);var u=function(){var a=Object(f.a)(m.a.mark((function a(n){var r,c,s,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r={name:i.find((function(e){return"name"===e.name})).value,email:i.find((function(e){return"email"===e.name})).value},""!==i.find((function(e){return"newPassword"===e.name})).value&&(r.currentPassword=i.find((function(e){return"currentPassword"===e.name})).value,r.newPassword=i.find((function(e){return"newPassword"===e.name})).value,r.confirmPassword=i.find((function(e){return"confirmPassword"===e.name})).value),null===(c={avatar:i.find((function(e){return"avatar"===e.name})).file}).avatar){a.next=7;break}return a.next=7,aa(l,c);case 7:return a.next=9,Jt(l,r);case 9:s=a.sent,o="info",0!==s.code?o="danger":(localStorage.setItem(y,s.result.accessToken),window.location="/"),t(o,e("profile.message.0"));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),d={information:Object(A.jsxs)("div",{children:[e("profile.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"avatar",label:"",type:"avatar",sizeXs:12,sizeMd:12},{name:"name",label:e("profile.form.control1"),type:"text",sizeXs:12,sizeMd:6,validation:"name|required|length:3,30"},{name:"email",label:e("profile.form.control3"),type:"email",sizeXs:12,sizeMd:6,validation:"email|required"},{name:"currentPassword",label:e("profile.form.control4"),type:"password",sizeXs:12,sizeMd:4,validation:"password|length:0,20"},{name:"newPassword",label:e("profile.form.control5"),type:"password",sizeXs:12,sizeMd:4,validation:"password|length:0,20"},{name:"confirmPassword",label:e("profile.form.control6"),type:"password",sizeXs:12,sizeMd:4,validation:"password|compare:newPassword,profile.form.control5|length:0,20"}],actions:[{variant:"primary",text:e("action.save"),onClick:u},{url:"/category",variant:"default",text:e("action.back")}]};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(ye,{information:d.information,controls:d.controls,actions:d.actions,inputs:i,setInputs:c})})},ja=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("profile.form.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:t,link:a("profile.form.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(ba,Object(l.a)({},e))})})]})},pa=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose,b=function(e){return e.map((function(e){return{_id:e._id,name:e.child.name,age:e.child.age,email:e.email}}))};Object(n.useEffect)((function(){Se().then((function(e){0===e.code&&c(b(e.result))}))}),[]);var j=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,$e(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":Se().then((function(e){c(b(e.result))})),s(r,t("category.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={newItem:{url:"/child/new",link:t("child.list.new")},tableData:i,tablePages:{paginate:!1},tableColumns:[{title:t("child.list.column1"),style:"",value:"name"},{title:t("child.list.column2"),style:"text-center w10",value:"age"},{title:t("child.list.column3"),style:"",value:"email"}],actions:[{icon:"editar",url:"/child/edit",variant:"primary",text:t("action.edit")},{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return j(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"name"}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:p.newItem,tableHead:p.tableHead,tableData:p.tableData,tablePages:p.tablePages,tableColumns:p.tableColumns,actions:p.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:p.newItem,tableHead:p.tableHead,tableData:p.tableData,tablePages:p.tablePages,tableColumns:p.tableColumns,actions:p.actions},e))})]})},ha=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("child.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("child.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(pa,Object(l.a)({},e))})})]})},va=function(e){var t=e.id,a=Object(z.a)().t,n=Z().openNotificationMessage,r=function(){var e=Object(f.a)(m.a.mark((function e(r){var i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),r.target.setAttribute("disabled","disabled"),e.next=4,Je(t);case 4:i=e.sent,c="info",0!==i.code&&(c="danger"),r.target.removeAttribute("disabled"),n(c,a("child.message.activation.".concat(i.code)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){return Object(A.jsxs)(A.Fragment,{children:[a("child.form.info3"),Object(A.jsx)(me.a,{variant:"link",className:"fs-13 m0 p0 resend-link text-underline",onClick:r,children:"Click here"})]})};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(W.a,{className:"mt-3",children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Ke.a,{variant:"info",className:"fs-13 text-center",children:0===t?a("child.form.info2"):Object(A.jsx)(i,{})})})})})},ga=function(e){var t=e.match,a=e.saveCallBack,r=void 0===a?null:a,i=e.tutorial,c=void 0!==i&&i,s=t.params.id,o=void 0===s?0:s,l=Object(z.a)().t,u=Z().openNotificationMessage,d=Object(n.useState)(!1),b=Object(H.a)(d,2),j=b[0],p=b[1],h=Object(n.useState)([{name:"name",value:"",isInvalid:!1,validationMessage:""},{name:"age",value:"",isInvalid:!1,validationMessage:""},{name:"email",value:"",isInvalid:!1,validationMessage:""}]),v=Object(H.a)(h,2),g=v[0],x=v[1];Object(n.useEffect)((function(){0!==o&&function(e){return Xe.apply(this,arguments)}(o).then((function(e){if(0===e.code){var t=e.result,a=t.email,n=t.child,r=t.active,i=n.name,c=n.age;x([{name:"name",value:i,isInvalid:!1,validationMessage:""},{name:"age",value:c,isInvalid:!1,validationMessage:""},{name:"email",value:a,isInvalid:!1,validationMessage:""}]),p(r)}else u("error",l("child.message.".concat(e.code)))}))}),[o]);var O=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.setAttribute("disabled","disabled"),a={name:g.find((function(e){return"name"===e.name})).value,age:g.find((function(e){return"age"===e.name})).value,email:g.find((function(e){return"email"===e.name})).value},n="",0!==o){e.next=10;break}return e.next=7,Fe(a);case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,Ye(o,a);case 12:n=e.sent;case 13:i="info",0!==n.code?(t.target.removeAttribute("disabled"),i="danger"):r?r():u(i,l("child.message.".concat(n.code))),u(i,l("child.message.".concat(n.code)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(A.jsxs)("div",{children:[l("child.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),y=j?"":Object(A.jsx)(va,{id:o}),w={information:_,controls:[{name:"name",label:l("child.form.control1"),type:"text",sizeXs:12,sizeMd:5,validation:"name|required|length:1,30"},{name:"age",label:l("child.form.control2"),type:"text",sizeXs:12,sizeMd:2,validation:"number|length:1,2"},{name:"email",label:l("child.form.control3"),type:"email",sizeXs:12,sizeMd:5,validation:"email|required"}],actions:[{variant:"primary",text:l("action.save"),onClick:O},{url:"/child",variant:"default",text:l("action.back"),hide:c}]};return c&&(w.actions=[{variant:"primary",text:l("action.saveContinue"),onClick:O}]),Object(A.jsx)(ye,{information:w.information,controls:w.controls,actions:w.actions,inputs:g,setInputs:x,formFooter:y})},xa=function(e){var t=e.location,a=e.match,n=e.history,r=a.params,i=t.pathname,c=r.id,s=void 0===c?0:c,o=Object(z.a)().t,u={title:o(0===s?"child.form.title":"child.form.title.edit"),breadcrumbs:[{url:"/",link:o("home.title")},{url:"/child",link:o("child.list.title")},{url:i,link:o(0===s?"child.form.title":"child.form.title.edit")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:u.title,breadcrumbs:u.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(ga,Object(l.a)(Object(l.a)({},e),{},{saveCallback:function(){n.goBack()}}))})})]})},Oa="https://allowance-notification-server.herokuapp.com",_a="v1",ya=8081,wa=v.a.create({baseURL:"".concat(Oa,"/api/").concat(_a),timeout:6e4});wa.defaults.headers["Content-Type"]="application/json";var Ea=P(y);wa.defaults.headers.Authorization=Ea;var Ca=wa;function Ma(){return(Ma=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.get("/notification",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(){return(ka=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.get("/notification/count").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(){return(Pa=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.delete("/notification/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Na=Object(n.createContext)(),Da=function(e){var t=e.children,a=Object(z.a)().t,r=Object(n.useState)([]),i=Object(H.a)(r,2),c=i[0],s=i[1],o=function(e){return e.days()>0?a("date.days.ago",{days:e.days()}):e.hours()>0?a("date.hours.ago",{hours:e.hours()}):e.minutes()>0?a("date.minutes.ago",{minutes:e.minutes()}):a("date.seconds.ago",{seconds:e.seconds()})},l=function(e){(function(e){return Ma.apply(this,arguments)})({limit:e}).then((function(e){0===e.code&&s(e.result.map((function(e){var t=e._id,n=e.userFrom,r=e.message,i=e.createdAt,c=e.linkId,s=j()(i).unix(),l=j()().unix(),u=j.a.duration(1e3*(l-s),"milliseconds");return{_id:t,name:n.name,message:a(r),createdAt:i,linkId:c,timeLeft:o(u)}})))}))},u={notifications:c,openNotification:function(e,t){(function(e){return Pa.apply(this,arguments)})(e).then((function(){window.location="/tracing/edit/".concat(t)}))},showAllNotifications:function(){l(1e3)},showNotifications:function(){l(5)}};return Object(A.jsx)(Na.Provider,{value:u,children:t})},Ia=function(){return Object(n.useContext)(Na)},Aa=a(185),La=a.n(Aa),Ra=Object(n.createContext)(),Ta=La()("".concat(Oa,":").concat(ya),{transports:["websocket"],upgrade:!1}),Ba=P(y);if(Ba){var Ua=Object(p.a)(Ba);Ta.emit("join",Ua.parentId)}var Wa=function(e){var t=e.children,a=Object(z.a)().t,r=Object(n.useState)(),i=Object(H.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)({user:"",message:"",show:!1}),l=Object(H.a)(o,2),u=l[0],d=l[1],m=Object(n.useState)(null),f=Object(H.a)(m,2),b=f[0],j=f[1];Object(n.useEffect)((function(){Ta.on("newNotification",(function(e){return function(e){var t=P(y);if(t){var n=Object(p.a)(t);if(n._id===e.to||n.username!==e.username){var r=!0;e.to||"/message"!==window.location.pathname||(r=!1),d({user:e.user,message:a(e.message),show:r}),setTimeout((function(){d({user:"",message:"",show:!1})}),3500)}}}(e)}))}),[u]),Object(n.useEffect)((function(){P(y)&&function(){return ka.apply(this,arguments)}().then((function(e){0===e.code&&s(e.result)}))}),[u]),Object(n.useEffect)((function(){Ta.on("newMessage",(function(e){j(e)}))}),[b]);var h={newMessage:b,notificationsCount:c,notificationAlert:u,sendChatNotification:function(){var e=P(y);if(e){var t=Object(p.a)(e),a={message:"notification.new.message",user:t.name,username:t.username,channel:t.parentId};Ta.emit("newNotification",a)}}};return Object(A.jsx)(Ra.Provider,{value:h,children:t})},Ka=function(){return Object(n.useContext)(Ra)},za=function(e){var t=Object(z.a)().t,a=Ka().notificationsCount,r=Ia(),i=r.notifications,c=r.showAllNotifications,s=r.openNotification;Object(n.useEffect)((function(){c()}),[a]);var o={tableData:i,tablePages:{paginate:!1},tableColumns:[{title:t("notification.list.column1"),style:"",value:"name"},{title:t("notification.list.column2"),style:"",value:"timeLeft"},{title:t("notification.list.column3"),style:"",value:"message"}],actions:[{icon:"show",variant:"primary",text:t("action.show"),onClick:function(e,t){e.preventDefault();var a=i.find((function(e){return e._id===t}));a&&s(t,a.linkId)}}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:o.newItem,tableHead:o.tableHead,tableData:o.tableData,tablePages:o.tablePages,tableColumns:o.tableColumns,actions:o.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:o.newItem,tableHead:o.tableHead,tableData:o.tableData,tablePages:o.tablePages,tableColumns:o.tableColumns,actions:o.actions},e))})]})},Sa=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("notification.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("notification.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(za,Object(l.a)({},e))})})]})},qa=a(375),Fa=a(382),Ha=a(376),Xa=a(105),Ya=function(){var e=Object(z.a)().t,t=Object(n.useState)([]),a=Object(H.a)(t,2),r=a[0],i=a[1],c=function(t){var a=[];return t.sort((function(e,t){return e.child.name.localeCompare(t.child.name)||j()(e.date).unix()-j()(t.date).unix()})),t.forEach((function(t){var n=a.find((function(e){return e.child.name===t.child.name})),r=100*t.realAmount/t.amount;n?n.tracking.length<=6&&(n.tracking=[].concat(Object(We.a)(n.tracking),[{_id:t._id,amount:t.amount,date:j()(t.date).format(e("date.partialFormat")),realAmount:t.realAmount,percent:r}]),n.labels=[].concat(Object(We.a)(n.labels),[j()(t.date).format(e("date.partialFormat"))]),n.percents=[].concat(Object(We.a)(n.percents),[r]),n.activities=t.activities.map((function(e){var t=n.activities.find((function(t){return t.activity===e.activity}));return t?(t.tracingPercent=(e.tracingPercent+t.tracingPercent)/2,{_id:t._id,activity:t.activity,tracingPercent:t.tracingPercent}):{_id:e._id,activity:e.activity,tracingPercent:e.tracingPercent}}))):a.push({child:{name:t.child.name,age:t.child.age,avatar:t.child.avatar},tracking:[{_id:t._id,amount:t.amount,date:j()(t.date).format(e("date.partialFormat")),realAmount:t.realAmount,percent:r}],labels:[j()(t.date).format(e("date.partialFormat"))],percents:[r],activities:t.activities.map((function(e){return{_id:e._id,activity:e.activity,tracingPercent:e.tracingPercent}}))})})),a.forEach((function(e){return e.activities.sort((function(e,t){return e.tracingPercent-t.tracingPercent}))})),a};Object(n.useEffect)((function(){jt().then((function(e){0===e.code&&(e.result.length>0?i(c(e.result)):Se().then((function(e){if(0===e.code){var t=e.result.map((function(e){return{child:{_id:e._id,name:e.child.name,age:e.child.age||"N/A"},activities:[]}}));i(c(t))}})))}))}),[]);var s=function(t,a,n,r){var i=[];return t.forEach((function(e){e.tracingPercent>a&&e.tracingPercent<n&&i.push(Object(A.jsx)(q.LinkContainer,{to:"activity/edit/".concat(e._id),children:Object(A.jsx)(qa.a,{variant:r,className:"mr-2 text-underline",children:e.activity})},"badge-".concat(r,"-").concat(e.activity)))})),i.length>0?i:Object(A.jsx)("h6",{children:e("no.records")})};return Object(A.jsx)(Fa.a,{defaultActiveKey:"0",transition:!1,id:"noanim-tab-example",children:r.map((function(t,a){return Object(A.jsx)(Ha.a,{eventKey:a,title:t.child.name,children:Object(A.jsx)(Mt.a,{children:Object(A.jsxs)(Mt.a.Body,{children:[Object(A.jsx)(W.a,{children:Object(A.jsxs)(K.a,{className:"d-flex align-items-center",children:[Object(A.jsx)("img",{src:t.child.avatar?"".concat(g,":").concat(x,"/avatar/").concat(t.child.avatar):pe,alt:"Avatar",className:"avatar mr-3"}),Object(A.jsxs)("span",{children:[Object(A.jsx)("h4",{className:"text-primary",children:t.child.name}),Object(A.jsxs)("h6",{className:"text-secondary",children:[t.child.age,"\xa0","N/A"!==t.child.age?e("date.years"):""]})]})]})}),Object(A.jsxs)(W.a,{className:"mt-5",children:[Object(A.jsxs)(K.a,{md:"6",children:[Object(A.jsx)("h5",{className:"text-primary",children:e("dashboard.parent.tracing")}),Object(A.jsxs)(Ct.a,{hover:!0,responsive:!0,className:"table",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:e("dashboard.parent.list.column1")}),Object(A.jsx)("th",{className:"text-center",children:e("dashboard.parent.list.column2")}),Object(A.jsx)("th",{className:"text-center",children:e("dashboard.parent.list.column3")}),Object(A.jsx)("th",{className:"text-center",children:e("dashboard.parent.list.column4")})]})}),t.tracking.length>0&&Object(A.jsx)("tbody",{children:t.tracking.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:Object(A.jsx)(q.LinkContainer,{to:"tracing/edit/".concat(e._id),children:Object(A.jsx)("span",{className:"text-primary text-underline",children:e.date})})}),Object(A.jsx)("td",{className:"text-center",children:e.amount}),Object(A.jsx)("td",{className:"text-center",children:e.realAmount}),Object(A.jsx)("td",{className:"text-center",children:Object(A.jsx)(qa.a,{variant:(t=e.percent,t<60&&t>=40?"warning":t<40?"danger":"success"),children:e.percent})})]},e._id);var t}))}),0===!t.tracking.length&&Object(A.jsx)("tbody",{children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:"4",className:"text-center",children:e("no.records")})})})]})]}),Object(A.jsx)(K.a,{md:"6",children:Object(A.jsx)(Xa.a,{data:{labels:t.labels,datasets:[{label:e("dashboard.parent.compliance"),data:t.percents,fill:!0,tension:.1,borderColor:"#fd7e14",backgroundColor:"#ffefbe"}]},options:{maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,max:120}}}})})]}),Object(A.jsxs)(W.a,{className:"mt-2",children:[Object(A.jsxs)(K.a,{md:6,className:"mt-3",children:[Object(A.jsx)("h5",{className:"text-primary",children:e("dashboard.parent.toImprove")}),s(t.activities,0,40,"danger")]}),Object(A.jsxs)(K.a,{md:6,className:"mt-3",children:[Object(A.jsx)("h5",{className:"text-primary",children:e("dashboard.parent.notable")}),s(t.activities,60,100,"success")]})]})]})})},t.child.name)}))})},Va=function(){var e=Object(z.a)().t,t=Object(n.useState)([]),a=Object(H.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),s=Object(H.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)([]),d=Object(H.a)(u,2),m=d[0],f=d[1],b=xe().user,p=function(e){var t=o.find((function(t){return t.activity===e}));return t?t.tracingPercent:null};return Object(n.useEffect)((function(){jt().then((function(e){0===e.code&&(i(function(e){e.sort((function(e,t){return j()(e.date).unix()-j()(t.date).unix()}));var t={labels:[],percents:[]};return e.forEach((function(e){var a=100*e.realAmount/e.amount;t.labels.push(j()(e.date).format("MM-YYYY")),t.percents.push(a)})),t}(e.result)),l(function(e){var t=[];return e.forEach((function(e){return e.activities.forEach((function(e){var a=t.find((function(t){return t.activity===e.activity}));a?a.tracingPercent=(e.tracingPercent+a.tracingPercent)/2:t.push({activity:e.activity,tracingPercent:e.tracingPercent})}))})),t}(e.result)))}))}),[]),Object(n.useEffect)((function(){Ce().then((function(e){0===e.code&&f(e.result.map((function(e){return{activity:e.activity,percent:e.percent,description:e.description,category:e.category.category}})))}))}),[]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(W.a,{className:"mb-4",children:Object(A.jsxs)(K.a,{md:"6",className:"d-flex align-items-center",children:[Object(A.jsx)("img",{src:b.avatar?"".concat(g,":").concat(x,"/avatar/").concat(b.avatar):pe,alt:"Avatar",className:"avatar mr-3"}),Object(A.jsxs)("span",{children:[Object(A.jsx)("h4",{className:"text-primary",children:b.name}),Object(A.jsxs)("h6",{className:"text-secondary",children:[b.age,"\xa0","N/A"!==b.age?e("date.years"):""]})]})]})}),Object(A.jsxs)(W.a,{children:[Object(A.jsx)(K.a,{md:"6",children:Object(A.jsx)(Mt.a,{children:Object(A.jsx)(Mt.a.Body,{children:Object(A.jsx)(Xa.a,{data:{labels:r.labels,datasets:[{label:e("dashboard.parent.compliance"),data:r.percents,fill:!0,tension:.1,borderColor:"#fd7e14",backgroundColor:"#ffefbe"}]},options:{maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,max:120}}}})})})}),Object(A.jsx)(K.a,{md:"6",children:m.map((function(t){return Object(A.jsx)(Mt.a,{className:"mb-3",children:Object(A.jsxs)(Mt.a.Body,{children:[Object(A.jsx)(Mt.a.Title,{className:"text-primary mb-4",children:t.activity}),Object(A.jsxs)(Mt.a.Subtitle,{className:"mb-4 text-secondary",children:[e("dashboard.parent.compliance"),": \xa0",p(t.activity)||"0","\xa0%"]}),Object(A.jsxs)(Mt.a.Subtitle,{className:"mb-4",children:[Object(A.jsx)(qa.a,{variant:"info",className:"mr-2",children:t.category}),p(t.activity)&&p(t.activity)>=60&&Object(A.jsx)(qa.a,{variant:"success",className:"mr-2",children:e("dashboard.parent.notable")}),p(t.activity)&&p(t.activity)<40&&Object(A.jsx)(qa.a,{variant:"danger",className:"mr-2",children:e("dashboard.parent.toImprove")})]}),Object(A.jsx)(Mt.a.Text,{children:t.description})]})},t.activity)}))})]})]})},$a=function(e){var t=e.match.params.token,a=void 0===t?"":t,r=Object(z.a)().t,i=Z().openNotificationMessage;return Object(n.useEffect)((function(){""!==a&&function(e){return ta.apply(this,arguments)}({token:a}).then((function(e){0===e.code?setTimeout((function(){window.location="/"}),3e3):i("danger",r("login.message.-1"))})).catch((function(){i("danger",r("login.message.-1"))}))}),[]),Object(A.jsx)(Mt.a,{className:"mt-5",children:Object(A.jsx)(Mt.a.Body,{className:"text-primary text-center",children:Object(A.jsx)("h5",{children:r("activate.form.message")})})})},Za=function(e){return Object(A.jsx)(W.a,{className:"m0 p0 mt-2",children:Object(A.jsx)(K.a,{xs:{span:10,offset:1},sm:{span:4,offset:4},children:Object(A.jsx)($a,Object(l.a)({},e))})})},Ja=function(e){var t=Object(z.a)().t,a=Object(n.useState)([]),r=Object(H.a)(a,2),i=r[0],c=r[1],s=Z().openNotificationMessage,o=Q(),u=o.handleShow,d=o.handleClose,b=function(e){return e.map((function(e){return{_id:e._id,date:j()(e.date).format(t("date.format")),child:e.child.name,note:e.note}}))};Object(n.useEffect)((function(){Nt().then((function(e){0===e.code&&c(b(e.result))}))}),[]);var p=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,Ut(a);case 3:n=e.sent,r="info",0!==n.code?r="danger":Nt().then((function(e){c(b(e.result))})),s(r,t("note.message.delete.".concat(n.code)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={newItem:{url:"/note/new",link:t("note.list.new")},tableData:i,tablePages:{paginate:!1},tableColumns:[{title:t("note.list.column1"),style:"text-center w15",value:"date"},{title:t("note.list.column2"),style:"text-center w15",value:"child"},{title:t("note.list.column3"),style:"",value:"note"}],actions:[{icon:"editar",url:"/note/edit",variant:"primary",text:t("action.edit")},{icon:"eliminar",variant:"danger",text:t("action.delete"),onClick:function(e,t,a){e.preventDefault();var n=[{text:"Aceptar",variant:"danger",onClick:function(){return p(t)}},{text:"Cancelar",variant:"default",onClick:d}];u("\xbfDesea eliminar el registro ".concat(a,"?"),n)},recordName:"date"}]};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"d-sm-none",children:Object(A.jsx)(Y.a,Object(l.a)({newItem:h.newItem,tableHead:h.tableHead,tableData:h.tableData,tablePages:h.tablePages,tableColumns:h.tableColumns,actions:h.actions},e))}),Object(A.jsx)("div",{className:"d-none d-sm-block",children:Object(A.jsx)(X.a,Object(l.a)({newItem:h.newItem,tableHead:h.tableHead,tableData:h.tableData,tablePages:h.tablePages,tableColumns:h.tableColumns,actions:h.actions},e))})]})},Ga=function(e){var t=Object(z.a)().t,a=e.location.pathname,n={title:t("note.list.title"),breadcrumbs:[{url:"/",link:t("home.title")},{url:a,link:t("note.list.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Ja,Object(l.a)({},e))})})]})},Qa=function(e){var t=e.history,a=e.match.params.id,r=void 0===a?0:a,i=Object(z.a)().t,c=Z().openNotificationMessage,s=Object(n.useState)([{name:"date",value:j()().format(i("date.format")),isInvalid:!1,validationMessage:""},{name:"child",value:"",isInvalid:!1,validationMessage:""},{name:"note",value:"",isInvalid:!1,validationMessage:""}]),o=Object(H.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)([]),b=Object(H.a)(d,2),p=b[0],h=b[1];Object(n.useEffect)((function(){Se().then((function(e){if(0===e.code){var t=e.result.map((function(e){return{value:e._id,text:e.child.name}}));h([{value:"",text:"Seleccione"}].concat(Object(We.a)(t)))}}))}),[]),Object(n.useEffect)((function(){0!==r&&function(e){return Rt.apply(this,arguments)}(r).then((function(e){if(0===e.code){var t=e.result,a=t.date,n=t.child,r=t.note;u([{name:"date",value:j()(a).format(i("date.format")),isInvalid:!1,validationMessage:""},{name:"child",value:n._id,isInvalid:!1,validationMessage:""},{name:"note",value:r,isInvalid:!1,validationMessage:""}])}else c("error",i("note.message.".concat(e.code)))}))}),[r]);var v=function(e){if("es"===i("date.locale")){var t=e.split("-");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0]," 00:00:01")}return"".concat(e," 00:00:01")},g=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.target.setAttribute("disabled","disabled"),n={date:v(l.find((function(e){return"date"===e.name})).value),child:l.find((function(e){return"child"===e.name})).value,note:l.find((function(e){return"note"===e.name})).value},s="",0!==r){e.next=10;break}return e.next=7,At(n);case 7:s=e.sent,e.next=13;break;case 10:return e.next=12,Tt(r,n);case 12:s=e.sent;case 13:o="info",0!==s.code?(a.target.removeAttribute("disabled"),o="danger"):t.goBack(),c(o,i("note.message.".concat(s.code)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={information:Object(A.jsxs)("div",{children:[i("note.form.info"),"(",Object(A.jsx)("span",{className:"text-danger",children:"*"}),")"]}),controls:[{name:"date",label:i("note.form.control1"),type:"datetime",sizeXs:12,sizeMd:6},{name:"child",label:i("note.form.control2"),type:"select",sizeXs:12,sizeMd:6,options:p,validation:"required"},{name:"note",label:i("note.form.control3"),type:"textarea",sizeXs:12,sizeMd:12,validation:"text|required|length:1,1000",rows:10}],actions:[{variant:"primary",text:i("action.save"),onClick:g},{url:"/note",variant:"default",text:i("action.back")}]};return Object(A.jsx)(ye,{information:x.information,controls:x.controls,actions:x.actions,inputs:l,setInputs:u})},en=function(e){var t=e.location,a=e.match.params,n=t.pathname,r=a.id,i=void 0===r?0:r,c=Object(z.a)().t,s={title:c(0===i?"note.form.title":"note.form.title.edit"),breadcrumbs:[{url:"/",link:c("home.title")},{url:"/note",link:c("note.list.title")},{url:n,link:c(0===i?"note.form.title":"note.form.title.edit")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:s.title,breadcrumbs:s.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(Qa,Object(l.a)({},e))})})]})};function tn(){return(tn=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/message",{params:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/message",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rn=function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),c=Object(H.a)(i,2),s=c[0],o=c[1],l=Object(n.useState)(0),u=Object(H.a)(l,2),d=u[0],b=u[1],p=Object(z.a)().t,h=xe().user,v=Ka(),O=v.newMessage,_=v.sendChatNotification,y=function(e){return e.days()>0?p("date.days.ago",{days:e.days()}):e.hours()>0?p("date.hours.ago",{hours:e.hours()}):e.minutes()>0?p("date.minutes.ago",{minutes:e.minutes()}):p("date.seconds.ago",{seconds:e.seconds()})},w=function(e){return e.map((function(e){var t=j()(e.createdAt).unix(),a=j()().unix(),n=j.a.duration(1e3*(a-t),"milliseconds");return{from:e.from,message:e.message,createdAt:e.createdAt,timeLeft:y(n)}}))},E=function(){var e=document.getElementById("chatBox");e.scrollTo(0,e.scrollHeight)};Object(n.useEffect)((function(){(function(e){return tn.apply(this,arguments)})().then((function(e){0===e.code&&o(w(e.result))}))}),[d]),Object(n.useEffect)((function(){if(O){var e=w(s);o([].concat(Object(We.a)(e),[{from:O.from,message:O.message,createdAt:O.createdAt,timeLeft:p("date.seconds.ago",{seconds:"0"})}])),E()}}),[O]),Object(n.useEffect)((function(){setTimeout((function(){b(d+1)}),6e4)}),[]);var C=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,an({message:a});case 3:E(),r(""),_();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(Mt.a,{className:"mt-4",children:[Object(A.jsx)(Mt.a.Body,{className:"d-flex flex-column scroll",id:"chatBox",children:s.length>0&&s.map((function(e,t){return Object(A.jsxs)("div",{className:e.from._id===h._id?"message-out":"message-in",children:[Object(A.jsxs)("div",{className:"fs-13 text-left mb-3",children:[Object(A.jsx)("img",{src:e.from.avatar?"".concat(g,":").concat(x,"/avatar/").concat(e.from.avatar):pe,alt:"Avatar",className:"photo mr-2"}),e.from.name]}),e.message,Object(A.jsx)("div",{className:"fs-13 text-right mt-1",children:e.timeLeft})]},"".concat(e.from._id,"-").concat(t))}))}),Object(A.jsx)(Mt.a.Footer,{className:"text-right",children:Object(A.jsx)(de.a,{children:Object(A.jsxs)(de.a.Row,{children:[Object(A.jsx)(K.a,{xs:9,sm:10,children:Object(A.jsx)(de.a.Control,{placeholder:p("message.form.control1"),value:a,onChange:function(e){var t=e.target.value;r(t)},onKeyDown:function(e){"Enter"===e.key&&C(e)},id:"message"})}),Object(A.jsx)(K.a,{xs:2,className:"text-right",children:Object(A.jsx)(me.a,{variant:"primary",title:p("action.send"),onClick:C,children:p("action.send")})})]})})})]})},cn=function(e){var t=e.location.pathname,a=Object(z.a)().t,n={title:a("message.form.title"),breadcrumbs:[{url:"/",link:a("home.title")},{url:t,link:a("message.form.title")}]};return Object(A.jsxs)(U.a,{fluid:"sm",children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(F,{title:n.title,breadcrumbs:n.breadcrumbs})})}),Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(rn,{})})})]})},sn=function(e){var t=Object(n.useState)([!0,!0,!0,!0,!0,!0]),a=Object(H.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(0),s=Object(H.a)(c,2),o=s[0],u=s[1],d=function(e){for(var t=document.getElementsByClassName("wizard-menu-button"),a=0;a<t.length;a+=1){var n=+t[a].id.split("-")[1],r=document.getElementById("content-".concat(n));r.classList.add("d-none"),n<e?(t[a].classList.remove("btn-dark","text-dark","btn-info","text-info"),t[a].classList.add("btn-success","text-success")):n===e?(t[a].classList.remove("btn-dark","text-dark","btn-success","text-success"),t[a].classList.add("btn-info","text-info"),r.classList.remove("d-none")):(t[a].classList.remove("btn-success","text-success","btn-info","text-info"),t[a].classList.add("btn-dark","text-dark"))}u(e)},b=function(e){switch(e){case 0:return Object(A.jsx)(B.c,{className:"icon"});case 1:return Object(A.jsx)(B.a,{className:"icon"});case 2:return Object(A.jsx)(T.a,{className:"icon"});case 3:return Object(A.jsx)(R.d,{className:"icon"});case 4:return Object(A.jsx)(B.b,{className:"icon"});case 5:return Object(A.jsx)(T.b,{className:"icon"})}return""},j=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.setItem(E,"completed"),window.location="/";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(Mt.a,{className:"mt-5 m0 p0",children:[Object(A.jsxs)(Mt.a.Body,{className:"d-flex wizard m0 p0",children:[Object(A.jsx)("div",{className:"wizard-menu pt-3",children:r.map((function(e,t){return Object(A.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(A.jsx)(me.a,{variant:0===t?"info":"dark",className:0===t?"wizard-menu-button text-primary":"wizard-menu-button text-dark",id:"button-".concat(t),disabled:e,onClick:function(){return d(t)},children:b(t)}),t<r.length-1&&Object(A.jsx)("div",{className:"wizard-menu-divider"})]},t)}))}),Object(A.jsxs)("div",{className:"p-2",children:[Object(A.jsxs)("div",{className:"wizard-content",id:"content-0",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Bienvenido a Control Mesadas"}),Object(A.jsx)("p",{className:"m-4",children:"Si eres usuario nuevo y necesitas ayuda para realizar la configuraci\xf3n inicial puedes continuar, o si por el contrario deseas explorar la aplicaci\xf3n por tu cuenta puedes saltarte esta parte."}),Object(A.jsx)("div",{className:"m-5 text-right",children:Object(A.jsx)(me.a,{onClick:function(){i([!0,!0,!0,!0,!0,!0]),d(1)},variant:"primary",className:"mr-2 mt-2",children:"Continuar"})})]}),Object(A.jsxs)("div",{className:"wizard-content d-none",id:"content-1",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Hijos"}),Object(A.jsx)("p",{className:"m-4",children:"Para comenzar debes agregar a tu representado, esto es necesario para hacer la mayoria de las acciones en el sistema, comenzaremos agregando un solo representado, cuando hayas finalizado la inducci\xf3n podr\xe1s agregar m\xe1s."}),Object(A.jsx)(ga,Object(l.a)({tutorial:!0,saveCallBack:function(){i([!0,!0,!0,!0,!0,!0]),d(2)}},e))]}),Object(A.jsxs)("div",{className:"wizard-content d-none",id:"content-2",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Mesada"}),Object(A.jsx)("p",{className:"m-4",children:"Ya que has agregado a tu representado, puedes fijarle una mesada para un rango de tiempo, este monto ser\xe1 referencial posteriormente para cuando quieras hacer un seguimiento."}),Object(A.jsx)(ft,Object(l.a)({tutorial:!0,saveCallBack:function(){i([!0,!0,!1,!1,!0,!0]),d(3)},refresh:o},e))]}),Object(A.jsxs)("div",{className:"wizard-content d-none",id:"content-3",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Categor\xedas"}),Object(A.jsx)("p",{className:"m-4",children:"Para organizar mejor las actividades que evaluar\xe1s para tu representado, te invitamos a crear categor\xedas. Por el momento solo podr\xe1s agregar una categor\xeda, cuando hayas finalizado la inducci\xf3n podr\xe1s agregar m\xe1s."}),Object(A.jsx)(we,Object(l.a)({tutorial:!0,saveCallBack:function(){i([!0,!0,!1,!1,!1,!0]),d(4)}},e))]}),Object(A.jsxs)("div",{className:"wizard-content d-none",id:"content-4",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Actividades"}),Object(A.jsx)("p",{className:"m-4",children:"Para hacer el seguimiento de tu representado debes agregar las actividades que deseas monitorear, El peso de aca actividad representa la importancia que tiene para la evaluaci\xf3n. Por el momento solo podr\xe1s agregar una actividad, cuando hayas finalizado la inducci\xf3n podr\xe1s agregar m\xe1s."}),Object(A.jsx)(Qe,Object(l.a)({tutorial:!0,saveCallBack:function(){i([!0,!0,!1,!1,!1,!1]),d(5)},refresh:o},e))]}),Object(A.jsxs)("div",{className:"wizard-content d-none",id:"content-5",children:[Object(A.jsx)("h3",{className:"text-primary m-4",children:"Felicidades"}),Object(A.jsx)("p",{className:"m-4",children:"Has culminado el proceso de inducci\xf3n, ya puedes comenzar a utilizar Control Mesadas, el resto de las funcionalidades te las explicaremos en el transcurso del camino"}),Object(A.jsx)("div",{className:"m-5 text-right",children:Object(A.jsx)(me.a,{onClick:j,variant:"primary",className:"mt-2",children:"Salir"})})]})]})]}),o<r.length-1&&Object(A.jsxs)(Mt.a.Footer,{className:"text-right",children:[Object(A.jsx)(me.a,{onClick:function(e){e.preventDefault(),N(),window.location="/"},variant:"link",className:"mr-2 mt-2 text-underline",children:"Cerrar sesi\xf3n"}),Object(A.jsx)(me.a,{onClick:j,variant:"link",className:"mt-2 text-underline",children:"Saltar"})]})]})},on=function(e){return Object(A.jsx)(U.a,{fluid:"sm",children:Object(A.jsx)(W.a,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(sn,Object(l.a)({},e))})})})},ln=[{path:"/",component:function(e){var t=xe().user;return Object(A.jsx)(U.a,{fluid:"sm",children:Object(A.jsx)(W.a,{className:"mt-4",children:Object(A.jsxs)(K.a,{children:["child"===t.role&&Object(A.jsx)(Va,Object(l.a)({},e)),"parent"===t.role&&Object(A.jsx)(Ya,Object(l.a)({},e))]})})})},exact:!0,isPrivate:!0,roles:["parent","child"]},{type:"link",path:"/category",component:ue,exact:!0,icon:Object(A.jsx)(R.d,{className:"icon mr-2"}),text:"menu.category",responsive:!1,isPrivate:!0,roles:["parent"]},{path:"/category/new",component:Ee,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/category/edit/:id",component:Ee,exact:!1,isPrivate:!0,roles:["parent"]},{type:"link",path:"/activity",component:Ue,exact:!0,icon:Object(A.jsx)(B.b,{className:"icon mr-2"}),text:"menu.activity",responsive:!1,isPrivate:!0,roles:["parent"]},{path:"/activity/new",component:et,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/activity/edit/:id",component:et,exact:!1,isPrivate:!0,roles:["parent"]},{type:"link",path:"/allowance",component:mt,exact:!0,icon:Object(A.jsx)(T.a,{className:"icon mr-2"}),text:"menu.allowance",responsive:!1,isPrivate:!0,roles:["parent"]},{path:"/allowance/new",component:bt,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/allowance/edit/:id",component:bt,exact:!1,isPrivate:!0,roles:["parent"]},{type:"link",path:"/tracing",component:Et,exact:!0,icon:Object(A.jsx)(R.a,{className:"icon mr-2"}),text:"menu.tracing",responsive:!1,isPrivate:!0,roles:["parent","child"]},{path:"/tracing/new",component:zt,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/tracing/edit/:id",component:qt,exact:!1,isPrivate:!0,roles:["parent","child"]},{type:"link",path:"/profile",component:ja,exact:!0,icon:Object(A.jsx)(R.e,{className:"icon mr-2"}),text:"menu.profile",responsive:!0,isPrivate:!0,roles:["parent","child"]},{type:"link",path:"/child",component:ha,exact:!0,icon:Object(A.jsx)(B.a,{className:"icon mr-2"}),text:"menu.children",responsive:!0,isPrivate:!0,roles:["parent"]},{path:"/child/new",component:xa,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/child/edit/:id",component:xa,exact:!1,isPrivate:!0,roles:["parent"]},{path:"/login",component:ia,exact:!1,roles:["parent","child"]},{path:"/register",component:la,exact:!1,roles:["parent","child"]},{path:"/forgot",component:fa,exact:!1,roles:["parent","child"]},{path:"/notifications",component:Sa,exact:!0,isPrivate:!0,roles:["parent","child"]},{path:"/activate/:token",component:Za,exact:!1,isPrivate:!1,roles:["parent","child"]},{type:"link",path:"/note",component:Ga,exact:!0,icon:Object(A.jsx)(B.d,{className:"icon mr-2"}),text:"menu.note",responsive:!1,isPrivate:!0,roles:["parent"]},{path:"/note/new",component:en,exact:!0,isPrivate:!0,roles:["parent"]},{path:"/note/edit/:id",component:en,exact:!1,isPrivate:!0,roles:["parent"]},{type:"link",path:"/message",component:cn,exact:!0,icon:Object(A.jsx)(R.b,{className:"icon mr-2"}),text:"menu.messages",responsive:!1,isPrivate:!0,roles:["parent","child"]},{path:"/tutorial",component:on,exact:!0,isPrivate:!0,roles:["parent"]}],un=a(380),dn=a(193),mn=a(378),fn=a(69),bn=a.p+"static/media/log_3.479d5681.svg",jn=Object(n.createContext)(),pn=function(e){var t=e.children,a=Object(z.a)().i18n,r=Object(n.useState)(localStorage.getItem(_)?localStorage.getItem(_):"Espa\xf1ol"),i=Object(H.a)(r,2),c=i[0],s=i[1];Object(n.useEffect)((function(){switch(localStorage.setItem(_,c),c){case"Espa\xf1ol":a.changeLanguage("es");break;case"English":a.changeLanguage("en")}}),[c,a]);var o={language:c,onChangeLanguage:function(e){s(e)}};return Object(A.jsx)(jn.Provider,{value:o,children:t})},hn=function(){return Object(n.useContext)(jn)},vn=function(e){var t=e.languageTitle,a=e.logoutUser,n=hn().onChangeLanguage,r=Ka().notificationsCount,i=Ia(),c=i.notifications,s=i.openNotification,l=i.showNotifications,u=xe().user,d=Object(z.a)().t,m=Object(o.l)().pathname,f=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("img",{src:u.avatar?"".concat(g,":").concat(x,"/avatar/").concat(u.avatar):pe,alt:"Usuario",className:"photo mr-2"}),"No Name"===u.name?d("No Name"):u.name]}),b=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(fn.b,{className:"icon",title:d("notification.title")}),r>0&&Object(A.jsx)("div",{className:r<10?"notification-number pl6":"notification-number pl3",children:r})]});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(un.a,{bg:"primary",expand:"md",variant:"dark",className:"main-header d-none d-md-block",children:Object(A.jsxs)(U.a,{children:[Object(A.jsx)(q.LinkContainer,{to:"/",children:Object(A.jsx)(un.a.Brand,{children:Object(A.jsx)("img",{src:bn,alt:"Logo",className:"logo"})})}),Object(A.jsxs)(dn.a,{className:"main-navbar ml-auto",children:[Object(A.jsxs)(mn.a,{title:t,className:"hide-caret mr-2",children:[Object(A.jsx)(mn.a.Item,{onClick:function(){n("Espa\xf1ol"),window.location.reload()},children:"Espa\xf1ol"}),Object(A.jsx)(mn.a.Item,{onClick:function(){n("English"),window.location.reload()},children:"English"})]}),Object(A.jsxs)(mn.a,{title:b,className:"hide-caret mr-2 notification-select",alignRight:!0,onClick:l,children:[Object(A.jsx)(mn.a.Header,{className:"m0 p0 ml-4",children:d("notification.title")}),Object(A.jsx)(mn.a.Divider,{}),c.length>0&&c.map((function(e){return Object(A.jsx)(mn.a.Item,{onClick:function(){return s(e._id,e.linkId)},children:Object(A.jsxs)("div",{className:"mb-2",children:[Object(A.jsx)("div",{className:"text-primary m0 p0 fs-13",children:e.name}),Object(A.jsxs)("div",{className:"m0 p0",children:[e.message,Object(A.jsx)("div",{className:"text-gray m0 p0 fs-13",children:e.timeLeft})]})]})},e._id)})),0===c.length&&Object(A.jsx)(mn.a.Item,{children:Object(A.jsx)("div",{className:"text-gray m0 p0 fs-13",children:"No existen notificaciones"})}),c.length>0&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(mn.a.Divider,{}),Object(A.jsx)(q.LinkContainer,{to:"/notifications",children:Object(A.jsx)(mn.a.Item,{className:"m0 p0 text-center text-primary fs-13",children:d("notification.load")})})]})]}),Object(A.jsxs)(mn.a,{title:f,className:"hide-caret",children:[Object(A.jsx)(q.LinkContainer,{to:"/profile",children:Object(A.jsx)(mn.a.Item,{children:d("menu.profile")})}),"parent"===u.role&&Object(A.jsx)(q.LinkContainer,{to:"/child",children:Object(A.jsx)(mn.a.Item,{children:d("menu.children")})}),Object(A.jsx)(mn.a.Item,{onClick:a,children:d("menu.logout")})]}),Object(A.jsx)(un.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})]})}),Object(A.jsx)(un.a,{bg:"primary",expand:"md",variant:"light",className:"secondary-header",children:Object(A.jsx)(U.a,{children:Object(A.jsx)(dn.a,{className:"secondary-navbar",children:ln.filter((function(e){return!e.responsive&&"link"===e.type})).map((function(e){return e.roles.includes(u.role)?Object(A.jsx)(q.LinkContainer,{to:e.path,children:Object(A.jsxs)(dn.a.Link,{className:"mr-2",active:e.path===m,children:[e.icon,d(e.text)]})},"desktop-route-".concat(e.path)):""}))})})})]})},gn=a.p+"static/media/log_4.7cda14b4.svg",xn=function(e){var t=e.languageTitle,a=e.logoutUser,r=hn().onChangeLanguage,i=Ka().notificationsCount,c=Ia(),s=c.notifications,l=c.openNotification,u=c.showNotifications,d=xe().user,m=Object(z.a)().t,f=Object(o.l)().pathname,b=Object(n.useState)(!1),j=Object(H.a)(b,2),p=j[0],h=j[1],v=function(){h(!p)},g=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(fn.b,{className:"icon",title:m("notification.title")}),i>0&&Object(A.jsx)("div",{className:i<10?"notification-number pl6":"notification-number pl3",children:i})]});return Object(A.jsx)(un.a,{bg:"primary",expand:"md",variant:"dark",className:"main-header d-block d-md-none",expanded:p,children:Object(A.jsxs)(U.a,{children:[Object(A.jsx)(q.LinkContainer,{to:"/",children:Object(A.jsx)(un.a.Brand,{children:Object(A.jsx)("img",{src:gn,alt:"Logo"})})}),Object(A.jsxs)(dn.a,{className:"main-navbar ml-auto",children:[Object(A.jsxs)(mn.a,{title:t,className:"hide-caret mr-3 language-select",children:[Object(A.jsx)(mn.a.Item,{onClick:function(){r("Espa\xf1ol"),window.location.reload()},children:"Espa\xf1ol"}),Object(A.jsx)(mn.a.Item,{onClick:function(){r("English"),window.location.reload()},children:"English"})]}),Object(A.jsxs)(mn.a,{title:g,className:"hide-caret mr-3 notification-select",alignRight:!0,onClick:u,children:[Object(A.jsx)(mn.a.Header,{className:"m0 p0 ml-4",children:m("notification.title")}),Object(A.jsx)(mn.a.Divider,{}),s.length>0&&s.map((function(e){return Object(A.jsx)(mn.a.Item,{onClick:function(){return l(e._id,e.linkId)},children:Object(A.jsxs)("div",{className:"mb-2",children:[Object(A.jsx)("div",{className:"text-primary m0 p0 fs-13",children:e.name}),Object(A.jsxs)("div",{className:"m0 p0",children:[e.message,Object(A.jsx)("div",{className:"text-gray m0 p0 fs-13",children:e.timeLeft})]})]})},e._id)})),0===s.length&&Object(A.jsx)(mn.a.Item,{children:Object(A.jsx)("div",{className:"text-gray m0 p0 fs-13",children:"No existen notificaciones"})}),s.length>0&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(mn.a.Divider,{}),Object(A.jsx)(q.LinkContainer,{to:"/notifications",children:Object(A.jsx)(mn.a.Item,{className:"m0 p0 text-center text-primary fs-13",children:m("notification.load")})})]})]}),Object(A.jsx)(un.a.Toggle,{onClick:v})]}),Object(A.jsx)(un.a.Collapse,{id:"basic-navbar-nav",children:Object(A.jsxs)(dn.a,{className:"d-block d-md-none mt-3",children:[ln.filter((function(e){return!e.responsive&&"link"===e.type})).map((function(e){return e.roles.includes(d.role)?Object(A.jsx)(q.LinkContainer,{to:e.path,onClick:v,children:Object(A.jsxs)(dn.a.Link,{className:"mr-2",children:[e.icon,m(e.text)]})},"mobile-route-".concat(e.path)):""})),Object(A.jsx)(mn.a.Divider,{}),ln.filter((function(e){return e.responsive&&"link"===e.type})).map((function(e){return e.roles.includes(d.role)?Object(A.jsx)(q.LinkContainer,{to:e.path,onClick:v,children:Object(A.jsxs)(dn.a.Link,{className:"mr-2",active:e.path===f,children:[e.icon,m(e.text)]})},"mobile-route-".concat(e.path)):""})),Object(A.jsxs)(dn.a.Link,{onClick:a,children:[Object(A.jsx)(fn.a,{className:"icon mr-2"}),m("menu.logout")]})]})})]})})},On=a.p+"static/media/spain.dec6ea19.svg",_n=a.p+"static/media/united-states.4c70daf4.svg",yn=function(){var e=hn().language,t=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("img",{src:"Espa\xf1ol"===e?On:_n,alt:"Idioma",width:"20px",className:"mr-2"}),e]}),a=function(){N(),window.location.href="/"};return Object(A.jsxs)("header",{children:[Object(A.jsx)(vn,{languageTitle:t,logoutUser:a}),Object(A.jsx)(xn,{languageTitle:t,logoutUser:a})]})},wn=function(){var e=Object(z.a)().t;return Object(A.jsx)("footer",{children:Object(A.jsx)("div",{className:"bg-dark text-center text-light footer mt-3",children:e("footer.text")})})},En=function(){return Object(A.jsx)("header",{children:Object(A.jsx)("div",{className:"m0 p0 mt-5 text-center",children:Object(A.jsx)("img",{src:bn,alt:"Logo",className:"logo"})})})},Cn=function(){var e=Object(z.a)().t;return Object(A.jsx)("footer",{children:Object(A.jsx)("div",{className:"m0 p0 mb-5 mt-5 text-center text-white",children:e("footer.text")})})},Mn=a(377),kn=function(e){var t=e.user,a=e.message,n=e.show,i=r.a.useRef(null);return Object(A.jsx)(Mn.a,{in:n,timeout:3e3,nodeRef:i,classNames:"alert",children:Object(A.jsxs)("div",{ref:i,className:"notification-push",children:[Object(A.jsx)("div",{className:"text-primary m0 p0 fs-13",children:t}),Object(A.jsx)("div",{className:"m0 p0",children:a})]})})},Pn=a(134),Nn=function(e){var t=e.message,a=e.type,n=e.show,i="text-".concat(a),c="border-color-".concat(a),s=r.a.useRef(null);return Object(A.jsx)(Mn.a,{in:n,timeout:3e3,classNames:"alert",nodeRef:s,children:Object(A.jsxs)("div",{ref:s,className:"notification-message ".concat(c),children:["info"===a&&Object(A.jsx)(Pn.a,{className:"icon mr-2 ".concat(i)}),"info"!==a&&Object(A.jsx)(Pn.b,{className:"icon mr-2 ".concat(i)}),t]})})},Dn=a(379),In=function(e){var t=e.handleClose,a=[{text:"Aceptar",variant:"danger",onClick:t},{text:"Cancelar",variant:"default",onClick:t}],n=e.title,r=void 0===n?"Advertencia":n,i=e.content,c=void 0===i?"\xbfDesea eliminar el registro?":i,s=e.actions,o=void 0===s?a:s,l=e.show;return Object(A.jsxs)(Dn.a,{show:l,onHide:t,animation:!1,children:[Object(A.jsx)(Dn.a.Header,{closeButton:!0,children:Object(A.jsx)(Dn.a.Title,{children:r})}),Object(A.jsx)(Dn.a.Body,{children:c}),Object(A.jsx)(Dn.a.Footer,{children:o.map((function(e){return Object(A.jsx)(me.a,{variant:e.variant,onClick:e.onClick,children:e.text},"modal-".concat(e.text))}))})]})},An=function(){var e=Z().notificationMessage,t=Q(),a=t.modal,n=t.handleClose,r=Ka().notificationAlert,i="d-flex flex-column min-vh-100",c="mb-auto",l=xe(),u=l.user,d=l.isLoading,m=!!u;if(d)return null;var f=localStorage.getItem(E),b=function(){return!u||"completed"!==f&&"child"!==u.role?Object(A.jsx)(En,{}):Object(A.jsx)(yn,{})},j=function(){return!u||"completed"!==f&&"child"!==u.role?Object(A.jsx)(Cn,{}):Object(A.jsx)(wn,{})};return Object(A.jsxs)(s.BrowserRouter,{children:[Object(A.jsxs)("div",{className:!m||"completed"!==f&&"child"!==u.role?"".concat(i," background"):i,children:[Object(A.jsx)(b,{}),Object(A.jsx)("main",{className:!m||"completed"!==f&&"child"!==u.role?c:"".concat(c," main-content"),children:Object(A.jsx)(o.g,{children:ln.filter((function(e){return"divider"!==e.type})).map((function(e){return!u||u&&e.roles.includes(u.role)?Object(A.jsx)(L,{path:e.path,exact:e.exact,component:e.component,isPrivate:e.isPrivate,isAuth:m},"route-".concat(e.path)):""}))})}),Object(A.jsx)(j,{})]}),Object(A.jsx)(Nn,{show:e.show,message:e.message,type:e.type}),Object(A.jsx)(In,{content:a.content,show:a.show,handleClose:n,actions:a.actions}),Object(A.jsx)(kn,{show:r.show,message:r.message,user:r.user})]})};var Ln=function(){return Object(A.jsx)(ge,{children:Object(A.jsx)(Wa,{children:Object(A.jsx)(pn,{children:Object(A.jsx)(G,{children:Object(A.jsx)($,{children:Object(A.jsx)(Da,{children:Object(A.jsx)(An,{})})})})})})})},Rn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,383)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},Tn=a(135),Bn=a(71),Un={en:{translation:a(189)},es:{translation:a(190)}},Wn="";switch(localStorage.getItem(_)){case"Espa\xf1ol":Wn="es";break;case"English":Wn="en"}Tn.a.use(Bn.e).init({resources:Un,lng:Wn,fallbackLocale:"es",keySeparator:!1,interpolation:{escapeValue:!1}});Tn.a;c.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(Ln,{})}),document.getElementById("root")),Rn()},53:function(module,__webpack_exports__,__webpack_require__){"use strict";var getRules=function(e,t){var a=e.split("|"),n=[];return a.forEach((function(e){var a={rule:e};if(e.search("length")>-1){var r=e.split(":")[1].split(",");a.rule="length",a.min=r[0],a.max=r[1]}if(e.search("compare")>-1){var i=e.split(":")[1].split(",")[0];a.rule="compare",a.value=t.find((function(e){return e.name===i})).value}n.push(a)})),n},validate=function validate(strRules,label,value,inputs,t){var rules=getRules(strRules,inputs),isRequired=rules.find((function(e){return"required"===e.rule}));if(isRequired&&!value)return{isValid:!1,message:t("validation.required",{field:label})};var hasComparation=rules.find((function(e){return"compare"===e.rule}));if(hasComparation&&value!==hasComparation.value){var field2=strRules.split("|").find((function(e){return e.search("compare")>-1})).split(":")[1].split(",")[1];return{isValid:!1,message:t("validation.compare",{field:label,field2:t(field2)})}}var greaterEqual=rules.find((function(e){return"gte"===e.rule}));if(greaterEqual&&value<greaterEqual.value)return{isValid:!1,message:t("validation.greaterEqual",{field:label})};var lessEqual=rules.find((function(e){return"lte"===e.rule}));if(lessEqual&&value>lessEqual.value)return{isValid:!1,message:t("validation.lessEqual",{field:label})};var messages=[t("validation.rule",{field:label})],validation=[];validation.push("/^"),rules.forEach((function(e){switch(e.rule){case"number":validation.push("\\d"),messages.push(t("validation.number"));break;case"name":validation.push("[a-zA-Z\xe1\xe9\xed\xf3\xfa ]"),messages.push(t("validation.name"));break;case"text":validation.push("[a-zA-Z0-9\xe1\xe9\xed\xf3\xfa ,.\\n]"),messages.push(t("validation.text"));break;case"email":validation.push("([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6})"),messages.push(t("validation.email"));break;case"password":validation.push("[a-zA-Z0-9._%-@!$]"),messages.push(t("validation.password",{min:e.min,max:e.max}));break;case"length":validation.push("{".concat(e.min,",").concat(e.max,"}")),messages.push(t("validation.length",{min:e.min,max:e.max}))}})),validation.push("$/");var regex=eval(validation.join("")).test(value);return validation.length>2&&!regex?{isValid:!1,message:messages.join("")}:{isValid:!0,message:"Is Valid"}};__webpack_exports__.a=validate}},[[367,1,2]]]);
//# sourceMappingURL=main.48f228e3.chunk.js.map